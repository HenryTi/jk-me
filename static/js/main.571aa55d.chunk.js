(this["webpackJsonpjk-me"]=this["webpackJsonpjk-me"]||[]).push([[0],{251:function(e,t,n){},253:function(e,t,n){},254:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"ui",(function(){return We})),n.d(r,"t",(function(){return et})),n.d(r,"render",(function(){return tt}));var i={};n.r(i),n.d(i,"t",(function(){return at})),n.d(i,"render",(function(){return ct}));var a={};n.r(a),n.d(a,"t",(function(){return ot})),n.d(a,"render",(function(){return ut}));var c={};n.r(c),n.d(c,"t",(function(){return dt})),n.d(c,"render",(function(){return ht}));var s={};n.r(s),n.d(s,"t",(function(){return ft})),n.d(s,"render",(function(){return vt}));var o={};n.r(o),n.d(o,"t",(function(){return jt})),n.d(o,"render",(function(){return pt}));var u={};n.r(u),n.d(u,"t",(function(){return xt})),n.d(u,"render",(function(){return yt}));var l={};n.r(l),n.d(l,"t",(function(){return wt})),n.d(l,"render",(function(){return kt}));var d={};n.r(d),n.d(d,"t",(function(){return Pt})),n.d(d,"render",(function(){return Nt}));var h={};n.r(h),n.d(h,"t",(function(){return At})),n.d(h,"render",(function(){return It}));var m={};n.r(m),n.d(m,"t",(function(){return Ft})),n.d(m,"render",(function(){return Ct}));var f={};n.r(f),n.d(f,"t",(function(){return Rt})),n.d(f,"render",(function(){return qt}));var v={};n.r(v),n.d(v,"t",(function(){return Vt})),n.d(v,"render",(function(){return $t}));var b={};n.r(b),n.d(b,"ui",(function(){return zt})),n.d(b,"t",(function(){return Gt})),n.d(b,"render",(function(){return Jt}));var j={};n.r(j),n.d(j,"t",(function(){return Xt})),n.d(j,"render",(function(){return Zt}));var p={};n.r(p),n.d(p,"t",(function(){return _t})),n.d(p,"render",(function(){return en}));var O={};n.r(O),n.d(O,"t",(function(){return nn})),n.d(O,"render",(function(){return rn}));var x={};n.r(x),n.d(x,"t",(function(){return cn})),n.d(x,"render",(function(){return sn}));var y={};n.r(y),n.d(y,"t",(function(){return un})),n.d(y,"render",(function(){return ln}));var g={};n.r(g),n.d(g,"t",(function(){return hn})),n.d(g,"render",(function(){return mn}));var w={};n.r(w),n.d(w,"t",(function(){return vn})),n.d(w,"render",(function(){return bn}));var k={};n.r(k),n.d(k,"t",(function(){return pn})),n.d(k,"render",(function(){return On}));var D={};n.r(D),n.d(D,"t",(function(){return yn})),n.d(D,"render",(function(){return gn}));var P={};n.r(P),n.d(P,"ui",(function(){return kn})),n.d(P,"t",(function(){return Pn})),n.d(P,"render",(function(){return Nn}));var N={};n.r(N),n.d(N,"ui",(function(){return An})),n.d(N,"t",(function(){return Tn})),n.d(N,"render",(function(){return Fn}));var S={};n.r(S),n.d(S,"ui",(function(){return Mn})),n.d(S,"t",(function(){return qn})),n.d(S,"render",(function(){return Ln}));var A={};n.r(A),n.d(A,"ui",(function(){return $n})),n.d(A,"t",(function(){return zn})),n.d(A,"render",(function(){return Bn}));var I={};n.r(I),n.d(I,"ui",(function(){return En})),n.d(I,"t",(function(){return Gn})),n.d(I,"render",(function(){return Jn}));var T={};n.r(T),n.d(T,"ui",(function(){return Qn})),n.d(T,"t",(function(){return Zn})),n.d(T,"render",(function(){return Wn}));var F={};n.r(F),n.d(F,"ui",(function(){return er})),n.d(F,"t",(function(){return nr})),n.d(F,"render",(function(){return rr}));var C={};n.r(C),n.d(C,"ui",(function(){return ar})),n.d(C,"t",(function(){return sr})),n.d(C,"render",(function(){return or}));var M={};n.r(M),n.d(M,"ui",(function(){return lr})),n.d(M,"t",(function(){return hr})),n.d(M,"render",(function(){return mr}));var R={};n.r(R),n.d(R,"ui",(function(){return vr})),n.d(R,"t",(function(){return jr})),n.d(R,"render",(function(){return pr}));var q={};n.r(q),n.d(q,"ui",(function(){return xr})),n.d(q,"t",(function(){return gr})),n.d(q,"render",(function(){return wr}));var L={};n.r(L),n.d(L,"ui",(function(){return Dr})),n.d(L,"t",(function(){return Nr})),n.d(L,"render",(function(){return Sr}));var V={};n.r(V),n.d(V,"ui",(function(){return Ir})),n.d(V,"t",(function(){return Fr})),n.d(V,"render",(function(){return Cr}));var $={};n.r($),n.d($,"t",(function(){return qr})),n.d($,"render",(function(){return Lr}));var H={};n.r(H),n.d(H,"t",(function(){return $r})),n.d(H,"render",(function(){return Hr}));var z={};n.r(z),n.d(z,"t",(function(){return Br})),n.d(z,"render",(function(){return Kr}));n(107);var B=n(1),K=n.n(B),E=n(4),U=n(5),G=n(8),J=n(7),Y=n(6),Q=n(18),X=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){return Object(U.a)(this,n),t.apply(this,arguments)}return Object(G.a)(n,[{key:"internalStart",value:function(){var e=Object(E.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Q.CBase),Z=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){return Object(U.a)(this,n),t.apply(this,arguments)}return n}(Q.CSub),W=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){return Object(U.a)(this,n),t.apply(this,arguments)}return Object(G.a)(n,[{key:"newC",value:function(e){for(var t=new e(this),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.internalInit.apply(t,r),t}}]),n}(Q.CAppBase),_=n(19),ee=n(21),te=n(3),ne=(n(251),n(0)),re=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){return Object(U.a)(this,n),t.apply(this,arguments)}return Object(G.a)(n,[{key:"header",value:function(){return"\u9996\u9875"}},{key:"content",value:function(){var e=this.controller,t=e.cApp,n=e.cAccount;return Object(ne.jsxs)("div",{children:[Object(ne.jsx)("div",{className:"d-flex flex-wrap p-2 justify-content-center",children:null===n||void 0===n?void 0:n.renderAccounts()}),t.renderVPortal()]})}}]),n}(te.VPage),ie=n(9),ae=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){return Object(U.a)(this,n),t.apply(this,arguments)}return Object(G.a)(n,[{key:"render",value:function(){var e=this;return this.react((function(){var t=e.controller,n=t.data,r=t.cApp,i=t.onAccountClick,a=n.accounts;if(!a)return null;var c=r.accountTitles,s=r.postTitles;return Object(ne.jsx)(ne.Fragment,{children:a.map((function(e,t){var n=e.post,r=e.account,a=e.balance,o=c[r],u=o.title,l=o.unit,d=o.fixed,h=s[n];return Object(ne.jsxs)("div",{className:"m-2 p-3 border border-info rounded rounded-3 bg-white text-center cursor-pointer",onClick:function(){return i(e)},children:[Object(ne.jsxs)("div",{className:"mb-1 small",children:[Object(ne.jsx)("span",{className:"text-secondary small",children:null===h||void 0===h?void 0:h.title}),Object(ne.jsx)("span",{className:"text-primary",children:u})]}),Object(ne.jsxs)("div",{children:[Object(ne.jsx)("span",{className:"fs-5 me-1",children:a.toFixed(d)}),Object(ne.jsx)("small",{className:"text-muted",children:l})]})]},t)}))})}))}}]),n}(te.View),ce=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(U.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).renderHistory=function(t,n){var r=e.controller,i=r.accountTitle,a=r.cApp,c=i.fixed,s=i.unit,o=a.postTitles,u=a.itemTitles,l=t.date,d=t.value,h=t.item,m=t.post,f=Object(ne.jsxs)("div",{children:[Object(ne.jsx)("span",{className:"me-1",children:d.toFixed(c)}),Object(ne.jsx)("small",{className:"text-muted",children:s})]});return Object(ne.jsxs)(te.LMR,{className:"px-3 py-2",right:f,children:[Object(ne.jsx)("span",{className:"d-inline-block w-min-6c",children:se(l)}),Object(ne.jsxs)("small",{className:"text-muted",children:[o[m].title," \xa0",u[h].title]})]})},e}return Object(G.a)(n,[{key:"header",value:function(){return"\u8d26\u6237\u660e\u7ec6"}},{key:"content",value:function(){var e=this.controller.accountHistory;return Object(ne.jsx)("div",{children:Object(ne.jsx)(te.List,{items:e,item:{render:this.renderHistory}})})}}]),n}(te.VPage);function se(e){var t=e.getFullYear(),n=e.getMonth()+1,r=e.getDate();return t===(new Date).getFullYear()?"".concat(n,"\u6708").concat(r,"\u65e5"):"".concat(t,"\u5e74").concat(n,"\u6708").concat(r,"\u65e5")}var oe=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(e){var r;return Object(U.a)(this,n),(r=t.call(this,e)).data=void 0,r.account=void 0,r.accountHistory=void 0,r.accountTitle=void 0,r.onAccountClick=function(){var e=Object(E.a)(K.a.mark((function e(t){var n,i,a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.account=t,n=t.objectAccount,i=t.account,e.next=4,r.uqs.JkMe.GetObjectAccountHistory.query({objectAccount:n});case 4:a=e.sent,r.accountHistory=a.ret,r.accountTitle=r.cApp.accountTitles[i],r.openVPage(ce);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.data=r.shallow({accounts:null}),r}return Object(G.a)(n,[{key:"renderAccounts",value:function(){return this.renderView(ae)}},{key:"load",value:function(){var e=Object(E.a)(K.a.mark((function e(t){var n,r=this;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.uqs.JkMe.GetUserObjectAccount.query({object:t});case 2:n=e.sent,this.runInAction((function(){r.data.accounts=n.ret,console.log("isObservable(this.data.accounts[0])",Object(ie.isObservable)(r.data.accounts[0]))}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(X),ue=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(U.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).cAccount=void 0,e.tab=function(){return e.renderView(re)},e.load=Object(E.a)(K.a.mark((function t(){return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.cAccount=e.newC(oe),t.next=3,Promise.all([e.cApp.cPortal.load(),e.cAccount.load(void 0)]);case 3:case"end":return t.stop()}}),t)}))),e}return n}(X),le=n(39),de=n(11),he={name:"\u767e\u7075\u5a01\u7cfb\u7edf\u5de5\u7a0b\u90e8",alias:"jk"},me={version:"0.1.0",app:void 0,uqs:[{dev:he,name:"me",alias:"Me",version:"0.1.0"},{dev:he,name:"product",alias:"Product",version:"0.1.0"},{dev:he,name:"\u79ef\u5206\u5546\u57ce",alias:"PointShop",version:"0.1.0"},{dev:he,name:"hr",alias:"Hr",version:"0.1.0"}],noUnit:!0,oem:void 0,htmlTitle:"\u6211"},fe=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){return Object(U.a)(this,n),t.apply(this,arguments)}return Object(G.a)(n,[{key:"header",value:function(){return"\u5173\u4e8eAPP"}},{key:"content",value:function(){return Object(ne.jsx)("div",{className:"py-5 px-3 my-3 w-max-30c mx-auto bg-white",children:Object(ne.jsxs)("div",{className:"text-center mb-5 position-relative",children:[Object(ne.jsxs)("small",{className:"text-muted position-absolute",style:{right:"0",top:"-2.8rem"},children:["\u7248\u672c: ",me.version]}),Object(ne.jsx)("b",{className:"text-danger h5 mb-0",children:"About"})]})})}}]),n}(te.VPage),ve=function(e,t){return Object(ne.jsx)(te.UserView,{web:e,user:t,render:function(e){var t=e.name,n=e.nick;return Object(ne.jsx)(ne.Fragment,{children:n||t})}})},be=n(2),je=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(U.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).meInfo=Object(de.observer)((function(){var t=be.tonwa.user;if(void 0===t)return null;var n=t.id,r=t.name,i=t.nick,a=t.icon;return Object(ne.jsx)(te.LMR,{className:"py-2 cursor-pointer w-100",left:Object(ne.jsx)(te.Image,{className:"w-3c h-3c me-3",src:a||".user-o"}),right:Object(ne.jsx)(te.FA,{className:"align-self-end",name:"angle-right"}),onClick:e.controller.showEditMe,children:Object(ne.jsxs)("div",{children:[Object(ne.jsx)("div",{children:pe(r,i)}),Object(ne.jsxs)("div",{className:"small",children:[Object(ne.jsx)("span",{className:"text-muted",children:"ID:"})," ",n>1e4?n:String(n+1e4).substr(1)]})]})})})),e.about=function(){e.openVPage(fe)},e}return Object(G.a)(n,[{key:"header",value:function(){return this.t("me")}},{key:"content",value:function(){var e,t=be.tonwa.user,n=["",{type:"component",component:Object(ne.jsx)(te.LMR,{className:"w-100",onClick:this.about,right:Object(ne.jsx)(te.FA,{className:"align-self-center",name:"angle-right"}),children:Object(ne.jsx)(te.IconText,{iconClass:"text-info me-2",icon:"smile-o",text:Object(ne.jsxs)(ne.Fragment,{children:[this.t("aboutTheApp")," ",Object(ne.jsxs)("small",{children:["\u7248\u672c ",me.version]})]})})})}];if(void 0===t)(e=n).push({type:"component",component:Object(ne.jsxs)("button",{className:"btn btn-success w-100 my-2",onClick:function(){return be.tonwa.logout()},children:[Object(ne.jsx)(te.FA,{name:"sign-out",size:"lg"})," ",this.t("pleaseLogin")]})});else{var r;(e=["",{type:"component",component:Object(ne.jsx)(this.meInfo,{})},""]).push({type:"component",component:this.react(this.renderAdmin)}),(r=e).push.apply(r,n.concat([]))}return Object(ne.jsx)(ne.Fragment,{children:Object(ne.jsx)(te.PropGrid,{rows:Object(le.a)(e),values:{}})})}},{key:"renderAdmin",value:function(){if(!1===this.controller.data.isAdmin)return null;var e=this.controller,t=e.admins,n=e.web;return Object(ne.jsxs)(te.LMR,{className:"py-2 cursor-pointer w-100",onClick:this.controller.adminSetting,left:Object(ne.jsx)(te.FA,{name:"cog",className:"text-info mt-1 me-3"}),right:Object(ne.jsx)(te.FA,{className:"align-self-center",name:"angle-right"}),children:[Object(ne.jsx)("div",{children:"\u4e1a\u52a1\u8bbe\u7f6e"}),Object(ne.jsxs)("div",{className:"small text-muted d-flex align-items-center",children:[Object(ne.jsx)("small",{className:"d-inline",children:"\u7ba1\u7406\u5458"}),Object(ne.jsx)("span",{className:"d-inline ms-3 text-danger",children:"[\u6211]"}),t.map((function(e){var t=e.id;return Object(ne.jsx)("span",{className:"d-inline ms-3",children:ve(n,t)},t)}))]})]})}}]),n}(te.VPage);function pe(e,t){return t?Object(ne.jsx)(ne.Fragment,{children:Object(ne.jsxs)("b",{children:[t," \xa0 ",Object(ne.jsx)("small",{className:"muted",children:e})]})}):Object(ne.jsx)("b",{children:e})}var Oe,xe,ye=n(105),ge=n(16),we=n(106),ke=(n(252),Oe=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(e){var r;Object(U.a)(this,n),(r=t.call(this,e)).schema=[{name:"nick",type:"string"},{name:"icon",type:"image"}],r.uiSchema={items:{nick:{widget:"text",label:"\u522b\u540d",placeholder:"\u597d\u7684\u522b\u540d\u66f4\u65b9\u4fbf\u8bb0\u5fc6"},icon:{widget:"image",label:"\u5934\u50cf"}}},Object(ye.a)(r,"data",xe,Object(ge.a)(r)),r.onItemChanged=function(){var e=Object(E.a)(K.a.mark((function e(t,n,i){var a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name,e.next=3,r.controller.web.userApi.userSetProp(a,n);case 3:r.data[a]=n,be.tonwa.user.name=n,be.tonwa.saveLocalUser();case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),r.onExit=function(){be.tonwa.showLogout()},r.changePassword=Object(E.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be.tonwa.changePassword();case 2:case"end":return e.stop()}}),e)}))),r.userQuit=Object(E.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be.tonwa.userQuit();case 2:case"end":return e.stop()}}),e)}))),r.page=function(){var e=Object(ge.a)(r),t=e.schema,n=e.uiSchema,i=e.data,a=e.onItemChanged,c=["",{type:"component",component:Object(ne.jsx)(te.IconText,{iconClass:"text-info me-2",icon:"key",text:r.t("changePassword")}),onClick:r.changePassword},"",{type:"component",component:Object(ne.jsx)(te.IconText,{iconClass:"text-danger me-2",icon:"ban",text:r.t("userQuit")}),onClick:r.userQuit},"","",{type:"component",bk:"",component:Object(ne.jsx)("div",{className:"w-100 text-center",children:Object(ne.jsxs)("button",{className:"btn btn-danger w-100 w-max-20c",onClick:r.onExit,children:[Object(ne.jsx)(te.FA,{name:"sign-out",size:"lg"})," ",r.t("logout")]})})}];return Object(ne.jsxs)(te.Page,{header:"\u4e2a\u4eba\u4fe1\u606f",children:[Object(ne.jsx)(te.Edit,{schema:t,uiSchema:n,data:i,onItemChanged:a}),Object(ne.jsx)(te.PropGrid,{rows:c,values:{}})]})};var i=be.tonwa.user,a=i.nick,c=i.icon;return r.data={nick:a,icon:c},r}return Object(G.a)(n,[{key:"open",value:function(){var e=Object(E.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(te.VPage),xe=Object(we.a)(Oe.prototype,"data",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oe),De=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){return Object(U.a)(this,n),t.apply(this,arguments)}return Object(G.a)(n,[{key:"header",value:function(){return"\u4e1a\u52a1\u8bbe\u7f6e"}},{key:"content",value:function(){var e=this.controller,t=e.admins,n=e.web;return Object(ne.jsx)("div",{children:Object(ne.jsxs)("div",{className:"small text-muted d-flex align-items-center m-3",children:[Object(ne.jsx)("small",{className:"d-inline",children:"\u7ba1\u7406\u5458"}),Object(ne.jsx)("span",{className:"d-inline ms-3 text-danger",children:"[\u6211]"}),t.map((function(e){return Object(ne.jsx)("span",{className:"d-inline ms-3",children:ve(n,e.id)})}))]})})}}]),n}(te.VPage),Pe=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(e){var r;return Object(U.a)(this,n),(r=t.call(this,e)).unitOwner=void 0,r.rootUnits=void 0,r.admins=null,r.data=void 0,r.mapAdd=function(){var e=r.data.map,t=e.get(1);t=t?{v:t}:1,e.set(1,t)},r.tab=function(){return r.renderView(je)},r.showEditMe=Object(E.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.openVPage(ke);case 1:case"end":return e.stop()}}),e)}))),r.load=Object(E.a)(K.a.mark((function e(){var t;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.uqs.JkMe.getAdmins();case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:r.runInAction((function(){var e=r.user.id,n=t.findIndex((function(t){return t.id===e}));n>=0&&t.splice(n,1),r.admins=t,r.data.isAdmin=!0}));case 6:case"end":return e.stop()}}),e)}))),r.backend=Object(E.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),r.adminSetting=Object(E.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.openVPage(De);case 1:case"end":return e.stop()}}),e)}))),r.testPointShop=Object(E.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),r.data=r.shallow({isAdmin:!1,map:new Map}),r}return Object(G.a)(n,[{key:"internalStart",value:function(){var e=Object(E.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),n}(X),Ne={name:"TimesChange",discription:"Test Times Change hours",test:function(){var e=Object(E.a)(K.a.mark((function e(t,n){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Se={name:"HelloTonwa.GetProductStock",discription:"{product: 1}",test:function(){var e=Object(E.a)(K.a.mark((function e(t,n){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t("test1"),t("test1"),t("test1"),t("test1"),t("test1"),t("test1"),t("test1"),t("test1");case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Ae={name:"\u7b2c\u4e8c\u6d4b\u8bd5",discription:"second test",test:function(){var e=Object(E.a)(K.a.mark((function e(t,n){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Ie={name:"\u7b2c\u4e09\u6d4b\u8bd5",discription:"third test",test:function(){var e=Object(E.a)(K.a.mark((function e(t,n){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Te={name:"Tag\u6d4b\u8bd5",discription:"Tag Test",test:function(){var e=Object(E.a)(K.a.mark((function e(t,n){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Fe=[Se,Ae,Ie,Te,Ne],Ce=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(U.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).renderItem=function(t,n){var r=t.name,i=t.discription,a=Object(ne.jsx)(te.FA,{name:"angle-right"});return Object(ne.jsx)(te.LMR,{className:"px-3 py-2 cursor-pointer mt-1 bg-white",onClick:function(){return e.controller.openDebugPage(t)},right:a,children:Object(ne.jsxs)("div",{children:[r," ",Object(ne.jsx)("small",{className:"text-muted",children:i})]})},n)},e}return Object(G.a)(n,[{key:"header",value:function(){return Object(ne.jsxs)("div",{className:"px-3",children:["Debug",Object(ne.jsx)("small",{className:"text-muted",children:" - \u672c\u9875\u4ec5\u8c03\u8bd5\u72b6\u6001\u53ef\u89c1"})]})}},{key:"content",value:function(){return Object(ne.jsxs)("div",{children:[Object(ne.jsx)("div",{children:this.controller.debugItems.map(this.renderItem)}),Object(ne.jsx)("div",{className:"px-3 py-2",children:Object(ne.jsx)("button",{className:"btn btn-primary",onClick:this.controller.test,children:"test"})})]})}}]),n}(te.VPage),Me=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(U.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).div=void 0,e.divBottom=void 0,e.autoScrollEnd=!1,e.autoScroll=!0,e.lastScrollTop=0,e.timeHandler=void 0,e.log=function(t){var n,r=document.createRange();r.selectNode(e.div),n=t?"object"===typeof t?e.objToHtml(t):"<div>"+t+"</div>":"<div>&nbsp;</div>";var i=r.createContextualFragment(n);e.div.appendChild(i)},e}return Object(G.a)(n,[{key:"init",value:function(){this.startAutoScrollToBottom()}},{key:"header",value:function(){return this.controller.currentItem.name}},{key:"content",value:function(){var e=this,t=this.controller.currentItem,n=t.name,r=t.discription;return Object(ne.jsxs)("div",{children:[Object(ne.jsxs)("div",{className:"p-3",children:[Object(ne.jsx)("div",{children:Object(ne.jsx)("b",{children:n})}),Object(ne.jsx)("div",{children:r})]}),Object(ne.jsx)("div",{ref:function(t){return e.div=t},className:"p-3 border-top border-primary bg-light"}),Object(ne.jsx)("div",{ref:function(t){return e.divBottom=t}})]})}},{key:"startAutoScrollToBottom",value:function(){var e=this;!0!==this.autoScrollEnd&&(this.autoScroll=!0,void 0===this.timeHandler&&(this.timeHandler=setInterval((function(){var t;!1!==e.autoScroll&&(null===(t=e.divBottom)||void 0===t||t.scrollIntoView())}),100)))}},{key:"endAutoScrollToBottom",value:function(){var e=this;setTimeout((function(){e.autoScroll=!1,e.autoScrollEnd=!0,void 0!==e.timeHandler&&(clearInterval(e.timeHandler),e.timeHandler=void 0)}),300)}},{key:"pauseAutoScrollToBottom",value:function(){this.autoScroll=!1}},{key:"onPageScroll",value:function(e){var t=e.target,n=t.scrollTop,r=t.scrollHeight,i=t.offsetHeight;n<=this.lastScrollTop?this.pauseAutoScrollToBottom():n+i>r-30&&this.startAutoScrollToBottom(),this.lastScrollTop=n}},{key:"objToHtml",value:function(e){if(null===e)return"<div>null</div>";if(void 0===e)return"<div>undefined</div>";if(!0===Array.isArray(e))return this.arrToHtml(0,e);var t="<div>{</div>";for(var n in e){t+=this.indent(1)+n+": ";var r=e[n];!0===Array.isArray(r)?t+=this.arrToHtml(1,r):t+=this.objToString(r)}return t+="<div>}</div>"}},{key:"indent",value:function(e){if(!e)return"";var t="";e*=2;for(var n=0;n<e;n++)t+="&emsp;";return t}},{key:"objToString",value:function(e){if(null===e)return"null";if(!0===Array.isArray(e))return"array["+e.length+"]";switch(typeof e){default:return e.toString();case"undefined":return"undefined";case"object":return void 0===e.tuid?"obj":e.id}}},{key:"objToLine",value:function(e,t){var n=!0,r="<div>"+this.indent(e)+"{ ";for(var i in t)!1===n?r+=", ":n=!1,r+=i+":"+this.objToString(t[i]);return r+=" }</div>"}},{key:"indentVal",value:function(e,t){return"<div>"+this.indent(e)+t+"</div>"}},{key:"arrToHtml",value:function(e,t){var n,r="<div>"+this.indent(e)+"[</div>",i=Object(_.a)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value,c=void 0;switch(typeof a){default:c=this.indentVal(e+1,a);break;case"object":c=this.objToLine(e+1,a);break;case"string":c=this.indentVal(e+1,"'".concat(a,"'"))}r+=c}}catch(s){i.e(s)}finally{i.f()}return r+="<div>"+this.indent(e)+"]</div>"}}]),n}(te.VPage),Re=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(U.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).debugItems=Object(le.a)(Fe),e.currentItem=void 0,e.tab=function(){return e.renderView(Ce)},e.load=Object(E.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),e.openDebugPage=function(){var t=Object(E.a)(K.a.mark((function t(n){var r,i,a,c,s,o,u,l;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.currentItem=n,t.next=3,e.openVPage(Me);case 3:return r=t.sent,i=n.test,a=new Date,r.log("=== test start at ".concat(a," ===")),r.log(),t.next=10,i(r.log,e.uqs);case 10:c=Date.now()-a.getTime(),s=(1e3+c%1e3).toString().substr(1),o=Math.floor(c/1e3),u=Math.floor(o/60),l="",u>0&&(l+=s+"'"),l+=o+'"'+s,r.log(),r.log("=== test end: ".concat(l," ==="));case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.test=Object(E.a)(K.a.mark((function t(){var n;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"BizDev/hello-tonwa",t.next=3,e.getUqRoles("BizDev/hello-tonwa");case 3:n=t.sent,alert(n);case 5:case"end":return t.stop()}}),t)}))),e}return Object(G.a)(n,[{key:"internalStart",value:function(){var e=Object(E.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),n}(X),qe={$zh:{home:"\u9996\u9875",relation:"\u5173\u7cfb",discover:"\u53d1\u73b0",supervise:"\u56e2\u961f",test:"\u6d4b\u8bd5",debug:"Debug",me:"\u6211",changePassword:"\u4fee\u6539\u5bc6\u7801",aboutTheApp:"\u5173\u4e8e\u672cAPP",logout:"\u9000\u51fa\u767b\u5f55",pleaseLogin:"\u767b\u5f55",userQuit:"\u6ce8\u9500\u7528\u6237",content:"\u5185\u5bb9",backend:"\u540e\u53f0\u7ba1\u7406",list:"\u5217\u8868"},$en:{home:"Home",relation:"Relation",discover:"Discover",supervise:"Supervise",test:"Test",debug:"Debug",me:"Me",changePassword:"Change password",aboutTheApp:"About the APP",logout:"Logout",pleaseLogin:"Login",userQuit:"User quit",content:"Content",backend:"Backend Management",list:"List"}};function Le(e,t){return function(n){return Object(te.TabCaptionComponent)(e,t,function(e){return!0===e?"text-primary":"text-muted"}(n))}}var Ve,$e,He,ze,Be,Ke,Ee,Ue,Ge,Je,Ye=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){return Object(U.a)(this,n),t.apply(this,arguments)}return Object(G.a)(n,[{key:"tabsProps",get:function(){var e=this.controller,t=e.cHome,n=e.cMe,r=e.cSupervise,i=e.ops,a=[{name:"home",caption:Le(Object(te.t)("home"),"home"),content:t.tab}];return i.length>0&&a.push({name:"supervise",caption:Le(Object(te.t)("supervise"),"bar-chart"),content:r.tab,load:r.load}),a.push({name:"me",caption:Le(Object(te.t)("me"),"user-o"),content:n.tab,load:n.load}),{tabs:a}}},{key:"webNav",get:function(){return{navHeader:Object(ne.jsx)("div",{children:"webNav header"}),navFooter:Object(ne.jsx)("div",{children:"webNav footer"})}}}]),n}(te.VPage),Qe=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(U.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).renderItem=function(e,t){var n=e.name,r=e.discription,i=e.click,a=Object(ne.jsx)(te.FA,{name:"angle-right"});return Object(ne.jsx)(te.LMR,{className:"px-3 py-2 cursor-pointer mt-1 bg-white",onClick:i,right:a,children:Object(ne.jsxs)("div",{children:[n," ",Object(ne.jsx)("small",{className:"text-muted",children:r})]})},t)},e}return Object(G.a)(n,[{key:"header",value:function(){return Object(ne.jsxs)("div",{className:"px-3",children:["UI",Object(ne.jsx)("small",{className:"text-muted",children:" - \u672c\u9875\u4ec5\u8c03\u8bd5\u72b6\u6001\u53ef\u89c1"})]})}},{key:"content",value:function(){return Object(ne.jsx)("div",{children:Object(ne.jsx)("div",{children:this.controller.uiItems.map(this.renderItem)})})}}]),n}(te.VPage),Xe=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(U.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).uiItems=[],e.tab=function(){return e.renderView(Qe)},e}return Object(G.a)(n,[{key:"internalStart",value:function(){var e=Object(E.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openVPage(Qe);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(X);!function(e){e[e.orderDeliver=1010]="orderDeliver",e[e.orderAmount=1011]="orderAmount",e[e.orderProfit=1012]="orderProfit",e[e.orderFee=1013]="orderFee",e[e.orderSaleTransferIn=1014]="orderSaleTransferIn",e[e.orderFactoryTransferIn=1015]="orderFactoryTransferIn",e[e.orderSaleTransferOut=1016]="orderSaleTransferOut",e[e.orderFactoryTransferOut=1017]="orderFactoryTransferOut",e[e.orderReturn=1020]="orderReturn",e[e.orderReceive=1030]="orderReceive",e[e.receiveSaleTransferOut=1036]="receiveSaleTransferOut",e[e.receiveFactoryTransferOut=1037]="receiveFactoryTransferOut",e[e.orderReceiveReturn=1040]="orderReceiveReturn",e[e.profitFee=1110]="profitFee",e[e.couponFee=1111]="couponFee",e[e.amountFee=1120]="amountFee",e[e.supervisorFee=1210]="supervisorFee",e[e.customerPoint=2010]="customerPoint",e[e.pickupPoint=3010]="pickupPoint",e[e.cashOut=5010]="cashOut"}(Ve||(Ve={})),function(e){e[e.sys=0]="sys",e[e.staff=1010]="staff",e[e.staffSales=1100]="staffSales",e[e.topSales=1101]="topSales",e[e.staffSupervisor=1102]="staffSupervisor",e[e.manager=2010]="manager",e[e.managerIT=2100]="managerIT",e[e.saleBranch=3e3]="saleBranch",e[e.factoryBranch=3001]="factoryBranch",e[e.sellerBranch=3002]="sellerBranch",e[e.agent=7010]="agent",e[e.agentSales=7100]="agentSales",e[e.distributor=7500]="distributor",e[e.distributorSales=7501]="distributorSales",e[e.customer=8010]="customer"}($e||($e={})),function(e){e[e.sheet=1]="sheet",e[e.margin=4]="margin"}(He||(He={})),function(e){e[e.all=1]="all",e[e.dev=2]="dev"}(ze||(ze={})),function(e){e[e.test=1]="test"}(Be||(Be={})),function(e){e[e.none=0]="none",e[e.user=1]="user",e[e.customer=2]="customer",e[e.staff=3]="staff",e[e.agent=4]="agent",e[e.distributor=5]="distributor",e[e.post=6]="post",e[e.branch=7]="branch"}(Ke||(Ke={})),function(e){e[e.commission=10]="commission",e[e.supervisor=11]="supervisor"}(Ee||(Ee={})),function(e){e[e.booking=0]="booking",e[e.orderDeliverDone=101]="orderDeliverDone",e[e.orderReceiveDone=102]="orderReceiveDone",e[e.orderReturn=103]="orderReturn",e[e.pickupDone=104]="pickupDone"}(Ue||(Ue={})),function(e){e[e.Customer=1]="Customer",e[e.Distributor=11]="Distributor",e[e.SaleBranch=21]="SaleBranch",e[e.FactoryBranch=22]="FactoryBranch"}(Ge||(Ge={})),function(e){e[e.BASE=5]="BASE",e[e.GBP=2]="GBP",e[e.HKD=3]="HKD",e[e.JPY=4]="JPY",e[e.RMB=5]="RMB",e[e.AUD=6]="AUD",e[e.CAD=7]="CAD",e[e.CHF=8]="CHF",e[e.EUR=9]="EUR",e[e.USD=10]="USD"}(Je||(Je={}));var Ze={id:{name:"id",type:"id",isKey:!1,label:"Id"},name:{name:"name",type:"string",isKey:!0,widget:"string",label:"Name"}},We={label:"Group",fieldArr:[Ze.name],fields:Ze},_e={};Object(be.setRes)(_e,{$zh:{},$en:{}});var et=function(e){var t;return null!==(t=_e[e])&&void 0!==t?t:e};function tt(e){var t=e.name;return Object(ne.jsx)(ne.Fragment,{children:t})}function nt(e){!function(e,t,n){!1!==e.hasEntity(t)&&Object.assign(e[t],n)}(e,"Group",r)}function rt(e,t,n){!1!==e.hasEntity(t)&&Object.assign(e[t],n)}var it={};Object(be.setRes)(it,{$zh:{},$en:{}});var at=function(e){var t;return null!==(t=it[e])&&void 0!==t?t:e};function ct(e){return Object(ne.jsx)(ne.Fragment,{children:Object(be.uqStringify)(e)})}var st={};Object(be.setRes)(st,{$zh:{},$en:{}});var ot=function(e){var t;return null!==(t=st[e])&&void 0!==t?t:e};function ut(e){return Object(ne.jsx)(ne.Fragment,{children:Object(be.uqStringify)(e)})}var lt={};Object(be.setRes)(lt,{$zh:{},$en:{}});var dt=function(e){var t;return null!==(t=lt[e])&&void 0!==t?t:e};function ht(e){return Object(ne.jsx)(ne.Fragment,{children:Object(be.uqStringify)(e)})}var mt={};Object(be.setRes)(mt,{$zh:{},$en:{}});var ft=function(e){var t;return null!==(t=mt[e])&&void 0!==t?t:e};function vt(e){return Object(ne.jsx)(ne.Fragment,{children:Object(be.uqStringify)(e)})}var bt={};Object(be.setRes)(bt,{$zh:{},$en:{}});var jt=function(e){var t;return null!==(t=bt[e])&&void 0!==t?t:e};function pt(e){return Object(ne.jsx)(ne.Fragment,{children:Object(be.uqStringify)(e)})}var Ot={};Object(be.setRes)(Ot,{$zh:{},$en:{}});var xt=function(e){var t;return null!==(t=Ot[e])&&void 0!==t?t:e};function yt(e){return Object(ne.jsx)(ne.Fragment,{children:Object(be.uqStringify)(e)})}var gt={};Object(be.setRes)(gt,{$zh:{},$en:{}});var wt=function(e){var t;return null!==(t=gt[e])&&void 0!==t?t:e};function kt(e){return Object(ne.jsx)(ne.Fragment,{children:Object(be.uqStringify)(e)})}var Dt={};Object(be.setRes)(Dt,{$zh:{},$en:{}});var Pt=function(e){var t;return null!==(t=Dt[e])&&void 0!==t?t:e};function Nt(e){var t=e.description,n=e.descriptionC,r=(e.imageUrl,e.no);return Object(ne.jsxs)("div",{children:[Object(ne.jsxs)("div",{children:[r," ",n]}),n===t?null:Object(ne.jsx)("div",{className:"small text-muted",children:t})]})}var St={};Object(be.setRes)(St,{$zh:{},$en:{}});var At=function(e){var t;return null!==(t=St[e])&&void 0!==t?t:e};function It(e){return Object(ne.jsx)(ne.Fragment,{children:Object(be.uqStringify)(e)})}var Tt={};Object(be.setRes)(Tt,{$zh:{},$en:{}});var Ft=function(e){var t;return null!==(t=Tt[e])&&void 0!==t?t:e};function Ct(e){return Object(ne.jsx)(ne.Fragment,{children:Object(be.uqStringify)(e)})}var Mt={};Object(be.setRes)(Mt,{$zh:{},$en:{}});var Rt=function(e){var t;return null!==(t=Mt[e])&&void 0!==t?t:e};function qt(e){return Object(ne.jsx)(ne.Fragment,{children:Object(be.uqStringify)(e)})}var Lt={};Object(be.setRes)(Lt,{$zh:{},$en:{}});var Vt=function(e){var t;return null!==(t=Lt[e])&&void 0!==t?t:e};function $t(e){return Object(ne.jsx)(ne.Fragment,{children:Object(be.uqStringify)(e)})}var Ht={ix:{name:"ix",type:"id",isKey:!1,label:"Ix"},xi:{name:"xi",type:"id",isKey:!1,label:"Xi"}},zt={label:"ProductCategoryResearchDomain",fieldArr:[Ht.xi],fields:Ht},Bt={};Object(be.setRes)(Bt,{$zh:{},$en:{}});var Kt,Et,Ut,Gt=function(e){var t;return null!==(t=Bt[e])&&void 0!==t?t:e};function Jt(e){return Object(ne.jsx)(ne.Fragment,{children:Object(be.uqStringify)(e)})}function Yt(e,t,n){!1!==e.hasEntity(t)&&Object.assign(e[t],n)}!function(e){e[e.total=1]="total",e[e.point=2]="point",e[e.used=3]="used"}(Kt||(Kt={})),function(e){e[e.ordermultiple=1]="ordermultiple",e[e.signIn=2]="signIn",e[e.exchange=3]="exchange",e[e.order=5]="order",e[e.lottery=8]="lottery",e[e.return=9]="return"}(Et||(Et={})),function(e){e[e.delivering=12]="delivering",e[e.delivered=13]="delivered",e[e.completed=14]="completed",e[e.canceled=15]="canceled"}(Ut||(Ut={}));var Qt={};Object(be.setRes)(Qt,{$zh:{},$en:{}});var Xt=function(e){var t;return null!==(t=Qt[e])&&void 0!==t?t:e};function Zt(e){return Object(ne.jsx)(ne.Fragment,{children:Object(be.uqStringify)(e)})}var Wt={};Object(be.setRes)(Wt,{$zh:{},$en:{}});var _t=function(e){var t;return null!==(t=Wt[e])&&void 0!==t?t:e};function en(e){return Object(ne.jsx)(ne.Fragment,{children:Object(be.uqStringify)(e)})}var tn={};Object(be.setRes)(tn,{$zh:{},$en:{}});var nn=function(e){var t;return null!==(t=tn[e])&&void 0!==t?t:e};function rn(e){return Object(ne.jsx)(ne.Fragment,{children:Object(be.uqStringify)(e)})}var an={};Object(be.setRes)(an,{$zh:{},$en:{}});var cn=function(e){var t;return null!==(t=an[e])&&void 0!==t?t:e};function sn(e){return Object(ne.jsx)(ne.Fragment,{children:Object(be.uqStringify)(e)})}var on={};Object(be.setRes)(on,{$zh:{},$en:{}});var un=function(e){var t;return null!==(t=on[e])&&void 0!==t?t:e};function ln(e){return Object(ne.jsx)(ne.Fragment,{children:Object(be.uqStringify)(e)})}var dn={};Object(be.setRes)(dn,{$zh:{},$en:{}});var hn=function(e){var t;return null!==(t=dn[e])&&void 0!==t?t:e};function mn(e){return Object(ne.jsx)(ne.Fragment,{children:Object(be.uqStringify)(e)})}var fn={};Object(be.setRes)(fn,{$zh:{},$en:{}});var vn=function(e){var t;return null!==(t=fn[e])&&void 0!==t?t:e};function bn(e){return Object(ne.jsx)(ne.Fragment,{children:Object(be.uqStringify)(e)})}var jn={};Object(be.setRes)(jn,{$zh:{},$en:{}});var pn=function(e){var t;return null!==(t=jn[e])&&void 0!==t?t:e};function On(e){return Object(ne.jsx)(ne.Fragment,{children:Object(be.uqStringify)(e)})}var xn={};Object(be.setRes)(xn,{$zh:{},$en:{}});var yn=function(e){var t;return null!==(t=xn[e])&&void 0!==t?t:e};function gn(e){return Object(ne.jsx)(ne.Fragment,{children:Object(be.uqStringify)(e)})}var wn={id:{name:"id",type:"id",isKey:!1,label:"Id"},no:{name:"no",type:"string",isKey:!0,widget:"string",label:"No"}},kn={label:"OrderMain",fieldArr:[wn.no],fields:wn},Dn={};Object(be.setRes)(Dn,{$zh:{},$en:{}});var Pn=function(e){var t;return null!==(t=Dn[e])&&void 0!==t?t:e};function Nn(e){return Object(ne.jsx)(ne.Fragment,{children:Object(be.uqStringify)(e)})}var Sn={id:{name:"id",type:"id",isKey:!1,label:"Id"},main:{name:"main",type:"id",isKey:!1,label:"Main"},orderMainNo:{name:"orderMainNo",type:"string",isKey:!1,widget:"string",label:"OrderMainNo"},orderDetailNo:{name:"orderDetailNo",type:"string",isKey:!1,widget:"string",label:"OrderDetailNo"},endUser:{name:"endUser",type:"id",isKey:!1,label:"EndUser"},createDate:{name:"createDate",isKey:!1,label:"CreateDate"}},An={label:"OrderDetail",fieldArr:[Sn.main,Sn.orderMainNo,Sn.orderDetailNo,Sn.endUser,Sn.createDate],fields:Sn},In={};Object(be.setRes)(In,{$zh:{},$en:{}});var Tn=function(e){var t;return null!==(t=In[e])&&void 0!==t?t:e};function Fn(e){return Object(ne.jsx)(ne.Fragment,{children:Object(be.uqStringify)(e)})}var Cn={id:{name:"id",type:"id",isKey:!1,label:"Id"},main:{name:"main",type:"id",isKey:!1,label:"Main"},item:{name:"item",type:"id",isKey:!1,label:"Item"},quantity:{name:"quantity",type:"number",isKey:!1,widget:"number",label:"Quantity"},point:{name:"point",type:"number",isKey:!1,widget:"number",label:"Point"},subAmount:{name:"subAmount",type:"number",isKey:!1,widget:"number",label:"SubAmount"}},Mn={label:"ExchangeDetail",fieldArr:[Cn.main,Cn.item,Cn.quantity,Cn.point,Cn.subAmount],fields:Cn},Rn={};Object(be.setRes)(Rn,{$zh:{},$en:{}});var qn=function(e){var t;return null!==(t=Rn[e])&&void 0!==t?t:e};function Ln(e){return Object(ne.jsx)(ne.Fragment,{children:Object(be.uqStringify)(e)})}var Vn={id:{name:"id",type:"id",isKey:!1,label:"Id"},no:{name:"no",type:"string",isKey:!0,widget:"string",label:"No"},customer:{name:"customer",type:"id",isKey:!1,label:"Customer"},shippingContact:{name:"shippingContact",type:"id",isKey:!1,label:"ShippingContact"},amount:{name:"amount",type:"number",isKey:!1,widget:"number",label:"Amount"},sheetId:{name:"sheetId",type:"id",isKey:!1,label:"SheetId"},createDate:{name:"createDate",isKey:!1,label:"CreateDate"}},$n={label:"ExchangeMain",fieldArr:[Vn.no,Vn.customer,Vn.shippingContact,Vn.amount,Vn.sheetId,Vn.createDate],fields:Vn},Hn={};Object(be.setRes)(Hn,{$zh:{},$en:{}});var zn=function(e){var t;return null!==(t=Hn[e])&&void 0!==t?t:e};function Bn(e){return Object(ne.jsx)(ne.Fragment,{children:Object(be.uqStringify)(e)})}var Kn={id:{name:"id",type:"id",isKey:!1,label:"Id"},createDate:{name:"createDate",isKey:!1,label:"CreateDate"}},En={label:"ReceiveMain",fieldArr:[Kn.createDate],fields:Kn},Un={};Object(be.setRes)(Un,{$zh:{},$en:{}});var Gn=function(e){var t;return null!==(t=Un[e])&&void 0!==t?t:e};function Jn(e){return Object(ne.jsx)(ne.Fragment,{children:Object(be.uqStringify)(e)})}var Yn={id:{name:"id",type:"id",isKey:!1,label:"Id"},main:{name:"main",type:"id",isKey:!1,label:"Main"},orderDetail:{name:"orderDetail",type:"id",isKey:!1,label:"OrderDetail"},amount:{name:"amount",type:"number",isKey:!1,widget:"number",label:"Amount"},createDate:{name:"createDate",isKey:!1,label:"CreateDate"}},Qn={label:"ReceiveDetail",fieldArr:[Yn.main,Yn.orderDetail,Yn.amount,Yn.createDate],fields:Yn},Xn={};Object(be.setRes)(Xn,{$zh:{},$en:{}});var Zn=function(e){var t;return null!==(t=Xn[e])&&void 0!==t?t:e};function Wn(e){return Object(ne.jsx)(ne.Fragment,{children:Object(be.uqStringify)(e)})}var _n={id:{name:"id",type:"id",isKey:!1,label:"Id"},point:{name:"point",type:"integer",isKey:!1,widget:"updown",label:"Point"},totalPoint:{name:"totalPoint",type:"integer",isKey:!1,widget:"updown",label:"TotalPoint"},multiple:{name:"multiple",type:"integer",isKey:!1,widget:"updown",label:"Multiple"}},er={label:"DxOrderDetail",fieldArr:[_n.point,_n.totalPoint,_n.multiple],fields:_n},tr={};Object(be.setRes)(tr,{$zh:{},$en:{}});var nr=function(e){var t;return null!==(t=tr[e])&&void 0!==t?t:e};function rr(e){return Object(ne.jsx)(ne.Fragment,{children:Object(be.uqStringify)(e)})}var ir={id:{name:"id",type:"id",isKey:!1,label:"Id"},point:{name:"point",type:"integer",isKey:!1,widget:"updown",label:"Point"},totalPoint:{name:"totalPoint",type:"integer",isKey:!1,widget:"updown",label:"TotalPoint"}},ar={label:"DxReOrderDetail",fieldArr:[ir.point,ir.totalPoint],fields:ir},cr={};Object(be.setRes)(cr,{$zh:{},$en:{}});var sr=function(e){var t;return null!==(t=cr[e])&&void 0!==t?t:e};function or(e){return Object(ne.jsx)(ne.Fragment,{children:Object(be.uqStringify)(e)})}var ur={id:{name:"id",type:"id",isKey:!1,label:"Id"},deliver:{name:"deliver",type:"number",isKey:!1,widget:"number",label:"Deliver"},deliverDone:{name:"deliverDone",type:"number",isKey:!1,widget:"number",label:"DeliverDone"},deliverTime:{name:"deliverTime",isKey:!1,label:"DeliverTime"}},lr={label:"DxExchangeDetail",fieldArr:[ur.deliver,ur.deliverDone,ur.deliverTime],fields:ur},dr={};Object(be.setRes)(dr,{$zh:{},$en:{}});var hr=function(e){var t;return null!==(t=dr[e])&&void 0!==t?t:e};function mr(e){return Object(ne.jsx)(ne.Fragment,{children:Object(be.uqStringify)(e)})}var fr={id:{name:"id",type:"id",isKey:!1,label:"Id"},state:{name:"state",isKey:!1,label:"State"},createDate:{name:"createDate",isKey:!1,label:"CreateDate"}},vr={label:"DxExchangeMainState",fieldArr:[fr.state,fr.createDate],fields:fr},br={};Object(be.setRes)(br,{$zh:{},$en:{}});var jr=function(e){var t;return null!==(t=br[e])&&void 0!==t?t:e};function pr(e){return Object(ne.jsx)(ne.Fragment,{children:Object(be.uqStringify)(e)})}var Or={ix:{name:"ix",type:"id",isKey:!1,label:"Ix"},xi:{name:"xi",type:"id",isKey:!1,label:"Xi"},point:{name:"point",type:"number",isKey:!1,widget:"number",label:"Point"}},xr={label:"IxExchangeMainUsedPoint",fieldArr:[Or.xi,Or.point],fields:Or},yr={};Object(be.setRes)(yr,{$zh:{},$en:{}});var gr=function(e){var t;return null!==(t=yr[e])&&void 0!==t?t:e};function wr(e){return Object(ne.jsx)(ne.Fragment,{children:Object(be.uqStringify)(e)})}var kr={ix:{name:"ix",type:"id",isKey:!1,label:"Ix"},xi:{name:"xi",type:"id",isKey:!1,label:"Xi"},deliverDone:{name:"deliverDone",type:"number",isKey:!1,widget:"number",label:"DeliverDone"},deliverTime:{name:"deliverTime",isKey:!1,label:"DeliverTime"}},Dr={label:"ExchangeDetailDeliver",fieldArr:[kr.xi,kr.deliverDone,kr.deliverTime],fields:kr},Pr={};Object(be.setRes)(Pr,{$zh:{},$en:{}});var Nr=function(e){var t;return null!==(t=Pr[e])&&void 0!==t?t:e};function Sr(e){return Object(ne.jsx)(ne.Fragment,{children:Object(be.uqStringify)(e)})}var Ar={ix:{name:"ix",type:"id",isKey:!1,label:"Ix"},xi:{name:"xi",type:"id",isKey:!1,label:"Xi"},receiveAmount:{name:"receiveAmount",type:"number",isKey:!1,widget:"number",label:"ReceiveAmount"},createDate:{name:"createDate",isKey:!1,label:"CreateDate"}},Ir={label:"IxOrderDetailReceive",fieldArr:[Ar.xi,Ar.receiveAmount,Ar.createDate],fields:Ar},Tr={};Object(be.setRes)(Tr,{$zh:{},$en:{}});var Fr=function(e){var t;return null!==(t=Tr[e])&&void 0!==t?t:e};function Cr(e){return Object(ne.jsx)(ne.Fragment,{children:Object(be.uqStringify)(e)})}function Mr(e,t,n){!1!==e.hasEntity(t)&&Object.assign(e[t],n)}var Rr={};Object(be.setRes)(Rr,{$zh:{},$en:{}});var qr=function(e){var t;return null!==(t=Rr[e])&&void 0!==t?t:e};function Lr(e){return Object(ne.jsx)(ne.Fragment,{children:Object(be.uqStringify)(e)})}var Vr={};Object(be.setRes)(Vr,{$zh:{},$en:{}});var $r=function(e){var t;return null!==(t=Vr[e])&&void 0!==t?t:e};function Hr(e){return Object(ne.jsx)(ne.Fragment,{children:Object(be.uqStringify)(e)})}var zr={};Object(be.setRes)(zr,{$zh:{},$en:{}});var Br=function(e){var t;return null!==(t=zr[e])&&void 0!==t?t:e};function Kr(e){return Object(ne.jsx)(ne.Fragment,{children:Object(be.uqStringify)(e)})}function Er(e){var t;nt(e.JkMe),rt(t=e.JkProduct,"Chemical",i),rt(t,"SalesRegion",a),rt(t,"Currency",c),rt(t,"PackType",s),rt(t,"Language",o),rt(t,"Brand",u),rt(t,"Stuff",l),rt(t,"ProductX",d),rt(t,"ProductCategory",h),rt(t,"Lot",m),rt(t,"PackSalesLevel",f),rt(t,"Research",v),rt(t,"ProductCategoryResearchDomain",b),function(e){Yt(e,"ProductX",j),Yt(e,"Customer",p),Yt(e,"WebUser",O),Yt(e,"Contact",x),Yt(e,"Currency",y),Yt(e,"BuyerAccount",g),Yt(e,"Genre",w),Yt(e,"PointProductLib",k),Yt(e,"Brand",D),Yt(e,"OrderMain",P),Yt(e,"OrderDetail",N),Yt(e,"ExchangeDetail",S),Yt(e,"ExchangeMain",A),Yt(e,"ReceiveMain",I),Yt(e,"ReceiveDetail",T),Yt(e,"DxOrderDetail",F),Yt(e,"DxReOrderDetail",C),Yt(e,"DxExchangeDetail",M),Yt(e,"DxExchangeMainState",R),Yt(e,"IxExchangeMainUsedPoint",q),Yt(e,"ExchangeDetailDeliver",L),Yt(e,"IxOrderDetailReceive",V)}(e.JkPointShop),function(e){Mr(e,"Employee",$),Mr(e,"Role",H),Mr(e,"Company",z)}(e.JkHr)}var Ur=n(38),Gr=function(e){var t=e.icon,n=e.caption,r=e.action,i=e.iconColor,a=Object(ne.jsx)(te.FA,{name:null!==t&&void 0!==t?t:"chevron-circle-right",className:"me-3 "+(null!==i&&void 0!==i?i:" text-success ")}),c=Object(ne.jsx)(te.FA,{name:"angle-right"});return Object(ne.jsx)(te.LMR,{left:a,right:c,className:"px-3 py-2 mb-1 bg-white cursor-pointer align-items-center",onClick:r,children:n})},Jr=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(U.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).renderOpTest=function(){var t=[{caption:"\u6309\u6708\u5546\u54c1\u9500\u552e\u989d\u6392\u5e8f",item:Ve.orderAmount,action:e.controller.showProductSumByMonth},{caption:"\u6309\u6708\u5546\u54c1\u6bdb\u5229\u6da6\u6392\u5e8f",item:Ve.orderProfit,action:e.controller.showProductSumByMonth},{caption:"\u6309\u6708\u5ba2\u6237\u9500\u552e\u989d\u6392\u5e8f",item:Ve.orderAmount,action:e.controller.showCustomerSumByMonth},{caption:"\u6309\u6708\u5ba2\u6237\u6bdb\u5229\u6da6\u6392\u5e8f",item:Ve.orderProfit,action:e.controller.showCustomerSumByMonth}],n=e.controller.superviseItems;return Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)("div",{className:"mb-4",children:Object(ne.jsxs)("div",{className:"my-2 mx-1 border border-info rounded",children:[Object(ne.jsx)("div",{className:"p-3 border-bottom border-info bg-white",children:Object(ne.jsx)("b",{children:"\u516c\u53f8\u4e1a\u52a1"})}),Object(ne.jsx)("div",{children:e.controller.renderVUnitSum()})]})}),e.controller.cObjectsArr.map((function(e,t){return Object(ne.jsx)(Gr,{action:function(){return e.loadAndShowList()},caption:e.header(),iconColor:"text-primary"},t)})),Object(ne.jsx)(Gr,{action:e.controller.showAccounts,caption:"\u8d26\u6237\u4f59\u989d\u5217\u8868",iconColor:"text-primary"}),Object(ne.jsx)("div",{className:"mb-3"}),t.map((function(e,t){var n=e.caption,r=e.item,i=e.action;return Object(ne.jsx)(Gr,{iconColor:"text-danger",caption:n,action:function(){return i(n,r)}},t)})),Object(ne.jsx)("div",{className:"mb-3"}),Object(ne.jsx)(te.List,{items:n,none:null,item:{render:e.renderSuperviseItem,onClick:e.onClickSuperviseItem}})]})},e.opRenders=Object(Ur.a)({},Be.test,e.renderOpTest),e.superviseItems=void 0,e.renderSuperviseItem=function(t,n){var r=t.item,i=e.controller.cApp.itemTitles[r],a=i.title,c=i.vice;return Object(ne.jsxs)("div",{className:"px-3 py-2 align-items-center",children:["\u5168\u516c\u53f8",a," ",Object(ne.jsx)("small",{className:"text-muted ms-3",children:c})]})},e.onClickSuperviseItem=function(t){e.controller.showItemSumHistory(t.item)},e}return Object(G.a)(n,[{key:"header",value:function(){return"\u56e2\u961f"}},{key:"content",value:function(){var e=this;return Object(ne.jsx)("div",{children:this.controller.cApp.ops.map((function(t,n){var r=t.op;return Object(ne.jsx)("div",{className:"py-2",children:e.opRenders[r]()},n)}))})}}]),n}(te.VPage),Yr=" w-min-6c text-end ms-2",Qr=[new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})];function Xr(e,t,n,r){var i;void 0!==t&&(i=Object(ne.jsx)("small",{children:Object(ne.jsx)("small",{className:"text-muted",children:t})})),void 0===n&&(n=2);var a,c=function(e,t){var n=Qr[t];return void 0===n&&(n=new Intl.NumberFormat("en-US",{minimumFractionDigits:t,maximumFractionDigits:t})),n.format(null!==e&&void 0!==e?e:0).split(".")}(e,n),s=c[0],o=!1===r?Object(ne.jsx)(ne.Fragment,{children:s}):Object(ne.jsx)("b",{children:s}),u=c[1];return void 0!==u&&(a=Object(ne.jsx)("span",{className:"small text-muted",children:Object(ne.jsxs)("small",{children:[".",u]})})),Object(ne.jsxs)("span",{children:[o,a," ",i]})}var Zr=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(U.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).renderDayItem=function(t,n){var r=e.controller,i=r.cApp,a=r.item,c=i.itemTitles[a],s=c.unit,o=c.fixed,u=t.date,l=t.value;return Object(ne.jsx)(te.LMR,{className:"px-3 py-2",left:Object(ne.jsx)("div",{children:new Date(u).toLocaleDateString()}),right:Object(ne.jsx)("div",{children:Xr(l,s,o)})})},e.onClickDayItem=function(){var t=Object(E.a)(K.a.mark((function t(n){var r,i,a;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.date,i=new Date(r),(a=new Date(i)).setDate(a.getDate()+1),t.next=6,e.controller.showItemHistory(i,a);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(G.a)(n,[{key:"render",value:function(){return Object(ne.jsx)(te.List,{items:this.controller.itemSumDays,item:{render:this.renderDayItem,onClick:this.onClickDayItem}})}}]),n}(te.View),Wr=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){return Object(U.a)(this,n),t.apply(this,arguments)}return Object(G.a)(n,[{key:"header",value:function(){var e=this.controller,t=e.cApp,n=e.item;return t.itemTitles[n].title}},{key:"content",value:function(){var e=new Zr(this.controller);return Object(ne.jsx)("div",{className:"",children:e.render()})}}]),n}(te.VPage),_r=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(U.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).renderMonthItem=function(t,n){var r=e.controller,i=r.cApp,a=r.item,c=i.itemTitles[a],s=c.unit,o=c.fixed,u=t.date,l=t.value,d=new Date(u);return Object(ne.jsx)(te.LMR,{className:"px-3 py-2",left:Object(ne.jsxs)("div",{children:[d.getFullYear(),"\u5e74",d.getMonth()+1,"\u6708"]}),right:Object(ne.jsxs)("div",{children:[Xr(l,s,o)," ",s]})})},e.onClickMonthItem=function(){var t=Object(E.a)(K.a.mark((function t(n){var r,i,a;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.date,i=new Date(r.getFullYear(),r.getMonth(),1),(a=new Date(i)).setMonth(a.getMonth()+1),t.next=6,e.controller.showItemDayHistory(void 0,i,a);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(G.a)(n,[{key:"header",value:function(){var e=this.controller,t=e.cApp,n=e.item;return t.itemTitles[n].title}},{key:"content",value:function(){var e=new Zr(this.controller);return Object(ne.jsxs)("div",{className:"",children:[Object(ne.jsxs)("div",{className:"px-3 pt-4 pb-2 text-center",children:["\u6309\u65e5\u6c47\u603b ",Object(ne.jsx)("small",{className:"text-muted",children:"(\u8fd130\u65e5)"})]}),e.render(),Object(ne.jsxs)("div",{className:"px-3 pt-4 pb-2 text-center",children:["\u6309\u6708\u6c47\u603b ",Object(ne.jsx)("small",{className:"text-muted",children:"(\u8fd112\u6708))"})]}),Object(ne.jsx)(te.List,{items:this.controller.itemSumMonths,item:{render:this.renderMonthItem,onClick:this.onClickMonthItem}})]})}}]),n}(te.VPage),ei=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(U.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).renderItem=function(t,n){var r=e.controller,i=r.cApp,a=r.item,c=i.itemTitles,s=i.timezone,o=c[a],u=o.unit,l=o.fixed,d=t.id,h=t.bizOp,m=t.value,f=t.memo,v=Object(be.dateFromMinuteId)(d,s),b=Object(ne.jsx)("div",{className:"small text-muted w-min-6c",children:Object(ne.jsx)(te.VDate,{date:v,hideSameYear:!0})});return Object(ne.jsxs)(te.LMR,{className:"px-3 py-2 align-items-center",left:b,right:Object(ne.jsxs)("div",{children:[(null!==m&&void 0!==m?m:0).toFixed(null!==l&&void 0!==l?l:2)," ",Object(ne.jsx)("small",{className:"text-muted",children:u})]}),children:[Object(ne.jsx)("b",{children:h})," ",f]})},e.onClickItem=function(e){alert(JSON.stringify(e))},e}return Object(G.a)(n,[{key:"header",value:function(){var e=this.controller,t=e.cApp,n=e.item;return t.itemTitles[n].title+"\u660e\u7ec6"}},{key:"content",value:function(){return Object(ne.jsx)("div",{className:"",children:Object(ne.jsx)(te.List,{items:this.controller.pageItemHistory,item:{render:this.renderItem,onClick:this.onClickItem}})})}}]),n}(te.VPage),ti=n(10),ni=n.n(ti),ri=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(U.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).renderItem=function(t,n){var r=t.id,i=t.value,a=t.$serial;return Object(ne.jsx)(te.LMR,{className:"pe-2 pe-sm-3 py-2",left:Object(ne.jsx)("div",{className:"w-min-2c text-center text-primary me-1 small",children:a}),right:Object(ne.jsx)("div",{className:"ms-1",children:Xr(i,"\u5143")}),children:Object(ne.jsx)("div",{children:e.renderId(r)})})},e.onClick=function(){var e=Object(E.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert(JSON.stringify(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e}return Object(G.a)(n,[{key:"header",value:function(){return this.controller.monthSum.vCaption}},{key:"content",value:function(){var e=this;return Object(ne.jsx)("div",{className:"",children:ni.a.createElement(Object(de.observer)((function(){return Object(ne.jsxs)(ne.Fragment,{children:[e.renderDate(),Object(ne.jsx)(te.List,{items:e.controller.monthSum.list,item:{render:e.renderItem,onClick:e.onClick}})]})})))})}},{key:"renderDate",value:function(){var e=this.controller.monthSum,t=e.month,n=e.hasNext,r=e.prev,i=e.next,a=Object(ne.jsx)("div",{className:"cursor-pointer px-5 py-3",onClick:r,children:Object(ne.jsx)(te.FA,{name:"angle-left"})}),c=Object(ne.jsx)("div",{className:" px-5 py-3 "+(n?" cursor-pointer ":" text-light "),onClick:i,children:Object(ne.jsx)(te.FA,{name:"angle-right"})});return Object(ne.jsx)("div",{className:"d-flex justify-content-center",children:Object(ne.jsxs)("div",{className:"d-flex mx-auto",children:[a,Object(ne.jsxs)("div",{className:"text-center py-3",children:[t.getFullYear(),"\u5e74",t.getMonth()+1,"\u6708"]}),c]})})}}]),n}(te.VPage),ii=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){return Object(U.a)(this,n),t.apply(this,arguments)}return Object(G.a)(n,[{key:"renderId",value:function(e){return this.controller.uqs.JkProduct.ProductX.tv(e)}}]),n}(ri),ai=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){return Object(U.a)(this,n),t.apply(this,arguments)}return Object(G.a)(n,[{key:"renderId",value:function(e){return Object(ne.jsxs)(ne.Fragment,{children:["\u5ba2\u6237",e]})}}]),n}(ri),ci=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(e){var r;return Object(U.a)(this,n),r=t.call(this,e),Object(ie.makeObservable)(Object(ge.a)(r),{baseList:ie.computed}),r}return Object(G.a)(n,[{key:"internalStart",value:function(){var e=Object(E.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"header",value:function(){return this.caption+"\u9500\u552e\u989d\u5217\u8868"}},{key:"loadList",value:function(){var e=Object(E.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.internalLoadList();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadAndShowList",value:function(){var e=Object(E.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadList();case 2:this.showList();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Z),si=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(U.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).renderRow=function(t,n){return e.renderItem(t,n)},e.onClickRow=function(t){e.onClickItem(t)},e}return Object(G.a)(n,[{key:"header",value:function(){return this.controller.header()}},{key:"content",value:function(){var e=this;return ni.a.createElement(Object(de.observer)((function(){return Object(ne.jsxs)("div",{className:"",children:[e.renderListHeader(),Object(ne.jsx)(te.List,{items:e.controller.baseList,item:{render:e.renderRow,onClick:e.onClickRow}}),e.renderListFooter()]})})))}},{key:"renderListHeader",value:function(){return Object(ne.jsx)(ne.Fragment,{})}},{key:"renderListFooter",value:function(){return Object(ne.jsx)(ne.Fragment,{})}},{key:"renderItem",value:function(e,t){return Object(ne.jsx)("div",{className:"px-3 py-2",children:e.id})}},{key:"onClickItem",value:function(e){alert(e.id)}}]),n}(te.VPage),oi=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){return Object(U.a)(this,n),t.apply(this,arguments)}return n}(si),ui=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(U.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).list=void 0,e}return Object(G.a)(n,[{key:"baseList",get:function(){return this.list}},{key:"caption",get:function(){return"\u8f7b\u4ee3\u7406"}},{key:"internalLoadList",value:function(){var e=Object(E.a)(K.a.mark((function e(){var t;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.uqs.JkMe.GetAgents.query({});case 2:t=e.sent,this.list=t.ret;case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"showList",value:function(){var e=Object(E.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openVPage(oi);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ci),li=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){return Object(U.a)(this,n),t.apply(this,arguments)}return n}(si),di=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(U.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).list=void 0,e}return Object(G.a)(n,[{key:"baseList",get:function(){return this.list}},{key:"caption",get:function(){return"\u7ecf\u9500\u5546"}},{key:"internalLoadList",value:function(){var e=Object(E.a)(K.a.mark((function e(){var t;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.uqs.JkMe.GetDistributors.query({});case 2:t=e.sent,this.list=t.ret;case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"showList",value:function(){var e=Object(E.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openVPage(li);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ci),hi=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){return Object(U.a)(this,n),t.apply(this,arguments)}return n}(si),mi=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(U.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).list=void 0,e}return Object(G.a)(n,[{key:"baseList",get:function(){return this.list}},{key:"caption",get:function(){return"\u90e8\u95e8"}},{key:"internalLoadList",value:function(){var e=Object(E.a)(K.a.mark((function e(){var t;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.uqs.JkMe.GetGroups.query({});case 2:t=e.sent,this.list=t.ret;case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"showList",value:function(){var e=Object(E.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openVPage(hi);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ci),fi=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){return Object(U.a)(this,n),t.apply(this,arguments)}return Object(G.a)(n,[{key:"renderItem",value:function(e,t){var n=this.controller.cApp,r=n.postTitles,i=n.itemTitles,a=e.post,c=e.item,s=e.amountThisMonth,o=e.amountLastMonth,u=r[a].title,l=i[c].title,d=Object(ne.jsxs)("div",{className:"d-flex align-items-center",children:[this.vAmount(s,c),this.vAmount(o,c)]});return Object(ne.jsxs)(te.LMR,{className:"px-3 py-2",right:d,children:[u," ",l]})}},{key:"renderListHeader",value:function(){return Object(ne.jsx)("div",{children:Object(ne.jsxs)("div",{className:"d-flex px-3 py-3 border-bottom border-primary",children:[Object(ne.jsx)("div",{className:"flex-fill"}),Object(ne.jsx)("div",{className:Yr,children:"\u672c\u6708"}),Object(ne.jsx)("div",{className:Yr,children:"\u4e0a\u6708"})]})})}},{key:"vAmount",value:function(e,t){var n=this.controller.cApp.itemTitles[t],r=n.fixed,i=n.unit;return Object(ne.jsxs)("div",{className:Yr,children:[(null!==e&&void 0!==e?e:0).toFixed(r),Object(ne.jsx)("small",{className:"text-muted",children:i})]})}}]),n}(si),vi=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(U.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).list=void 0,e}return Object(G.a)(n,[{key:"baseList",get:function(){return this.list}},{key:"caption",get:function(){return"\u5c97\u4f4d"}},{key:"header",value:function(){return this.caption+"\u7ee9\u6548\u5217\u8868"}},{key:"internalLoadList",value:function(){var e=Object(E.a)(K.a.mark((function e(){var t;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.uqs.JkMe.GetPosts.query({});case 2:t=e.sent,this.list=t.ret;case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"showList",value:function(){var e=Object(E.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openVPage(fi);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ci),bi=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){return Object(U.a)(this,n),t.apply(this,arguments)}return Object(G.a)(n,[{key:"renderItem",value:function(e,t){var n=this,r=e.staff,i=e.monthValuesArr,a=Object(ne.jsx)("div",{className:"d-block",children:i.map((function(e,t){var r=e.item,i=e.dThis,a=e.mThis,c=e.mLast;if(void 0===a&&void 0===c)return null;var s=n.controller.cApp.itemTitles[r].title;return Object(ne.jsxs)("div",{className:"d-flex",children:[Object(ne.jsx)("div",{className:"flex-fill text-sm-end small text-muted",children:s}),Object(ne.jsxs)("div",{className:"d-sm-flex",children:[Object(ne.jsxs)("div",{className:"d-flex d-sm-block",children:[Object(ne.jsx)("div",{className:"flex-fill small text-muted d-sm-none",children:"\u4eca\u65e5"}),Object(ne.jsx)("div",{children:n.vValue(i)})]}),Object(ne.jsxs)("div",{className:"d-flex d-sm-block",children:[Object(ne.jsx)("div",{className:"flex-fill small text-muted d-sm-none",children:"\u672c\u6708"}),Object(ne.jsx)("div",{children:n.vValue(a)})]}),Object(ne.jsxs)("div",{className:"d-flex d-sm-block",children:[Object(ne.jsx)("div",{className:"flex-fill small text-muted d-sm-none",children:"\u4e0a\u6708"}),Object(ne.jsx)("div",{children:n.vValue(c)})]})]})]},t)}))});return Object(ne.jsxs)("div",{className:"px-3 py-2 d-block d-sm-flex",children:[Object(ne.jsx)("div",{className:"flex-fill",children:this.controller.uqs.JkHr.Employee.tv(r,ji)}),a]})}},{key:"renderListHeader",value:function(){return Object(ne.jsxs)("div",{children:[Object(ne.jsxs)("div",{className:"d-flex px-3 py-3 border-bottom border-primary",children:[Object(ne.jsx)("div",{className:"flex-fill",children:"\u5458\u5de5"}),Object(ne.jsxs)("div",{className:"d-none d-sm-flex",children:[Object(ne.jsx)("div",{className:Yr,children:"\u4eca\u5929"}),Object(ne.jsx)("div",{className:Yr,children:"\u672c\u6708"}),Object(ne.jsx)("div",{className:Yr,children:"\u4e0a\u6708"})]})]}),this.renderListFooter()]})}},{key:"renderListFooter",value:function(){var e=this,t=this.controller.sum;return Object(ne.jsxs)("div",{className:"px-3 py-3 d-block d-sm-flex",children:[Object(ne.jsx)("div",{className:"flex-fill fw-bold text-sm-end small text-muted me-3",children:"\u5408\u8ba1"}),Object(ne.jsx)("div",{children:t.map((function(t,n){var r=t.item,i=t.dThis,a=t.mThis,c=t.mLast;if((0===a||void 0===a)&&(0===c||void 0===c))return null;var s=e.controller.cApp.itemTitles[r].title;return Object(ne.jsxs)("div",{className:"d-flex",children:[Object(ne.jsx)("div",{className:"flex-fill text-sm-end small text-muted",children:s}),Object(ne.jsxs)("div",{className:"d-sm-flex",children:[Object(ne.jsxs)("div",{className:"d-flex d-sm-block",children:[Object(ne.jsx)("div",{className:"flex-fill small text-muted d-sm-none",children:"\u4eca\u65e5"}),Object(ne.jsx)("div",{children:e.vValue(i)})]}),Object(ne.jsxs)("div",{className:"d-flex d-sm-block",children:[Object(ne.jsx)("div",{className:"flex-fill small text-muted d-sm-none",children:"\u672c\u6708"}),Object(ne.jsx)("div",{children:e.vValue(a)})]}),Object(ne.jsxs)("div",{className:"d-flex d-sm-block",children:[Object(ne.jsx)("div",{className:"flex-fill small text-muted d-sm-none",children:"\u4e0a\u6708"}),Object(ne.jsx)("div",{children:e.vValue(c)})]})]})]},n)}))})]})}},{key:"vValue",value:function(e){var t=this.controller.cApp.itemTitles[Ve.orderAmount],n=t.fixed,r=t.unit;return Object(ne.jsxs)("div",{className:Yr,children:[(null!==e&&void 0!==e?e:0).toFixed(n),Object(ne.jsx)("small",{className:"text-muted",children:r})]})}},{key:"onClickItem",value:function(e){var t=e.obj,n=e.staff,r=Object(ne.jsx)("div",{className:"px-3 py-4",children:Object(ne.jsxs)("div",{children:["\u804c\u5458 ",Object(ne.jsx)("b",{children:this.controller.uqs.JkHr.Employee.tv(n,ji)})]})});this.controller.showObjectPortal(t,r)}}]),n}(si);function ji(e){var t=e.name;return Object(ne.jsx)(ne.Fragment,{children:t})}var pi=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(e){var r;return Object(U.a)(this,n),(r=t.call(this,e)).list=void 0,r.sum=[],Object(ie.makeObservable)(Object(ge.a)(r),{list:ie.observable.shallow}),r}return Object(G.a)(n,[{key:"baseList",get:function(){return this.list}},{key:"caption",get:function(){return"\u5458\u5de5"}},{key:"internalLoadList",value:function(){var e=Object(E.a)(K.a.mark((function e(){var t,n,r,i,a,c,s,o,u,l,d,h,m,f,v,b,j,p;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.uqs.JkMe.GetStaffs.query({});case 2:t=e.sent,n=t.ret,r={},i=[],a={},c=Object(_.a)(n);try{for(c.s();!(s=c.n()).done;)o=s.value,u=o.opi,l=o.item,d=o.obj,h=o.staff,m=o.valueToday,f=o.valueThisMonth,v=o.valueLastMonth,void 0===(b=r[h])&&(r[h]=b={obj:d,staff:h,monthValuesArr:[]},i.push(b)),b.monthValuesArr.push({opi:u,item:l,dThis:m,mThis:f,mLast:v}),void 0===(j=a[l])&&(j={item:l,dThis:0,mThis:0,mLast:0},a[l]=j),j.dThis+=null!==m&&void 0!==m?m:0,j.mThis+=null!==f&&void 0!==f?f:0,j.mLast+=null!==v&&void 0!==v?v:0}catch(O){c.e(O)}finally{c.f()}for(p in this.sum.splice(0,this.sum.length),a)this.sum.push(a[Number(p)]);this.list=i;case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"showList",value:function(){var e=Object(E.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openVPage(bi);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"showObjectPortal",value:function(){var e=Object(E.a)(K.a.mark((function e(t,n){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.cApp.newCObjectPortal(t,n).showObjectPortal();case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(ci);function Oi(e){return[new mi(e),new di(e),new ui(e),new vi(e),new pi(e)]}var xi=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(U.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).renderAccount=function(t,n){var r=e.controller,i=r.cApp,a=r.uqs,c=i.accountTitles,s=t.account,o=t.balance,u=t.objectType,l=t.objectTo,d=c[s],h=d.title,m=d.unit,f=d.fixed,v=Object(ne.jsxs)("div",{children:[Object(ne.jsx)("span",{children:o.toFixed(null!==f&&void 0!==f?f:2)}),Object(ne.jsx)("small",{className:"ms-1 text-muted",children:m})]}),b=a.JkHr.Employee;return Object(ne.jsxs)(te.LMR,{className:"px-3 py-2",right:v,children:[function(){var e;switch(Number(u)){default:return Object(ne.jsxs)(ne.Fragment,{children:[u," ",l]});case Ke.post:var t=i.postTitles;return Object(ne.jsx)(ne.Fragment,{children:null===(e=t[l])||void 0===e?void 0:e.title});case Ke.staff:return b.tv(l,yi)}}()," ",h]})},e}return Object(G.a)(n,[{key:"header",value:function(){return"\u8d26\u6237\u4f59\u989d\u5217\u8868"}},{key:"content",value:function(){return Object(ne.jsx)(te.List,{items:this.controller.accounts,item:{render:this.renderAccount,onClick:this.controller.showAccountHistory}})}}]),n}(te.VPage);function yi(e){var t=e.name;return Object(ne.jsx)(ne.Fragment,{children:t})}var gi,wi=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(U.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).item=void 0,e.itemSumDays=void 0,e.itemSumMonths=void 0,e.pageItemHistory=void 0,e.monthSum=void 0,e.superviseItems=void 0,e.objects=void 0,e.groups=void 0,e.distributors=void 0,e.agents=void 0,e.staffs=void 0,e.posts=void 0,e.cObjectsArr=void 0,e.accounts=void 0,e.tab=function(){return e.renderView(Jr)},e.load=Object(E.a)(K.a.mark((function t(){var n,r,i,a;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.cObjectsArr=Oi(Object(ge.a)(e)),n=e.uqs.JkMe,t.next=4,Promise.all([n.GetUserSuperviseItem.query({})]);case 4:r=t.sent,i=Object(ee.a)(r,1),a=i[0],e.superviseItems=a.ret;case 8:case"end":return t.stop()}}),t)}))),e.showProductSumByMonth=function(){var t=Object(E.a)(K.a.mark((function t(n,r){return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.monthSum=new Pi(Object(ge.a)(e),n,r),t.next=3,e.monthSum.load();case 3:e.openVPage(ii);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.showCustomerSumByMonth=function(){var t=Object(E.a)(K.a.mark((function t(n,r){return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.monthSum=new Ni(Object(ge.a)(e),n,r),t.next=3,e.monthSum.load();case 3:e.openVPage(ai);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.showAccounts=Object(E.a)(K.a.mark((function t(){var n;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.uqs.JkMe.GetAccounts.query({});case 2:n=t.sent,e.accounts=n.ret,e.openVPage(xi);case 5:case"end":return t.stop()}}),t)}))),e.showAccountHistory=Object(E.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert("\u663e\u793a\u8d26\u6237\u660e\u7ec6 \u6b63\u5728\u8bbe\u8ba1\u4e2d...");case 1:case"end":return e.stop()}}),e)}))),e}return Object(G.a)(n,[{key:"internalStart",value:function(){var e=Object(E.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"showItemSumHistory",value:function(){var e=Object(E.a)(K.a.mark((function e(t){var n,r,i,a,c;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t?this.item=t:t=this.item,(n=new Date).setDate(n.getDate()+1),e.next=5,Promise.all([this.uqs.JkMe.GetItemSumDays.query({item:t,date:n,days:30}),this.uqs.JkMe.GetItemSumMonths.query({item:t,date:n,months:12})]);case 5:r=e.sent,i=Object(ee.a)(r,2),a=i[0],c=i[1],this.itemSumDays=a.ret,this.itemSumMonths=c.ret,this.openVPage(_r);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"showItemDayHistory",value:function(){var e=Object(E.a)(K.a.mark((function e(t,n,r){var i,a,c,s;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t?this.item=t:t=this.item,i=Math.floor((r.getTime()-n.getTime())/864e5),e.next=4,Promise.all([this.uqs.JkMe.GetItemSumDays.query({item:t,date:r,days:i})]);case 4:a=e.sent,c=Object(ee.a)(a,1),s=c[0],this.itemSumDays=s.ret,this.openVPage(Wr);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"showItemHistory",value:function(){var e=Object(E.a)(K.a.mark((function e(t,n){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pageItemHistory=new ki(this.uqs),e.next=3,this.pageItemHistory.first({item:this.item,from:t,to:n});case 3:this.openVPage(ei);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"renderVUnitSum",value:function(){return this.cApp.renderVUnitSum()}}]),n}(X),ki=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(e){var r;return Object(U.a)(this,n),(r=t.call(this)).uqs=void 0,r.uqs=e,r}return Object(G.a)(n,[{key:"loadResults",value:function(){var e=Object(E.a)(K.a.mark((function e(t,n,r){var i;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.uqs.JkMe.GetItemHistory.page(t,n,r);case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),n}(te.PageItems),Di=function(){function e(t,n,r){var i=this;Object(U.a)(this,e),this.controller=void 0,this.vCaption=void 0,this.item=void 0,this.month=void 0,this.list=void 0,this.prev=Object(E.a)(K.a.mark((function e(){var t;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new Date(i.month)).setMonth(t.getMonth()-1),i.month=t,e.next=5,i.load();case 5:case"end":return e.stop()}}),e)}))),this.next=Object(E.a)(K.a.mark((function e(){var t;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==i.hasNext){e.next=6;break}return(t=new Date(i.month)).setMonth(t.getMonth()+1),i.month=t,e.next=6,i.load();case 6:case"end":return e.stop()}}),e)}))),this.controller=t,this.month=new Date,this.month.setDate(1),this.month.setHours(0,0,0,0),this.vCaption=n,this.item=r,Object(ie.makeObservable)(this,{month:ie.observable,hasNext:ie.computed,prev:ie.action,next:ie.action,list:ie.observable.shallow})}return Object(G.a)(e,[{key:"hasNext",get:function(){var e=new Date;return e.setDate(0),e.setHours(0,0,0,0),this.month<e}}]),e}(),Pi=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){return Object(U.a)(this,n),t.apply(this,arguments)}return Object(G.a)(n,[{key:"load",value:function(){var e=Object(E.a)(K.a.mark((function e(){var t,n,r,i,a,c,s=this;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=100*this.month.getFullYear()+(this.month.getMonth()+1),n={item:this.item,month:t,count:200},e.next=4,this.controller.uqs.JkMe.GetProductSumByMonth.query(n);case 4:for(r=e.sent,i=r.ret,a=i.length,c=0;c<a;c++)i[c].$serial=c+1;Object(ie.runInAction)((function(){s.list=i}));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Di),Ni=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){return Object(U.a)(this,n),t.apply(this,arguments)}return Object(G.a)(n,[{key:"load",value:function(){var e=Object(E.a)(K.a.mark((function e(){var t,n,r,i,a,c,s=this;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=100*this.month.getFullYear()+(this.month.getMonth()+1),n={item:this.item,month:t,count:200},e.next=4,this.controller.uqs.JkMe.GetCustomerSumByMonth.query(n);case 4:for(r=e.sent,i=r.ret,a=i.length,c=0;c<a;c++)i[c].$serial=c+1;Object(ie.runInAction)((function(){s.list=i}));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Di),Si=n(53),Ai=function e(t,n){Object(U.a)(this,e),this.uqs=void 0,this.item=void 0,this.uqs=t,this.item=n};!function(e){e[e.day=0]="day",e[e.month=1]="month",e[e.week=2]="week",e[e.year=3]="year"}(gi||(gi={}));var Ii=function(){function e(t,n,r){Object(U.a)(this,e),this.timezone=void 0,this.unitBizMonth=void 0,this.unitBizDate=void 0,this.type=void 0,this.caption=void 0,this.from=void 0,this.to=void 0,this.timezone=t,this.unitBizMonth=n,this.unitBizDate=r,this.to=this.newDate(),this.from=new Date(this.to),this.init(),this.initObservable()}return Object(G.a)(e,[{key:"newDate",value:function(){var e=new Date;return e.setHours(e.getHours()-be.env.timeZone+this.timezone),e.setHours(0,0,0,0),e}},{key:"initObservable",value:function(){Object(ie.makeObservable)(this,{from:ie.observable,to:ie.observable,prev:ie.action,next:ie.action,hasNext:ie.computed})}},{key:"hasNext",get:function(){var e=this.newDate();return this.to<=e}},{key:"render",value:function(){return this.caption}}]),e}(),Ti=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){return Object(U.a)(this,n),t.apply(this,arguments)}return Object(G.a)(n,[{key:"init",value:function(){this.type=gi.day,this.to.setDate(this.from.getDate()+1),this.setCaption()}},{key:"prev",value:function(){this.to=new Date(this.to.setDate(this.to.getDate()-1)),this.from=new Date(this.from.setDate(this.from.getDate()-1)),this.setCaption()}},{key:"next",value:function(){this.to=new Date(this.to.setDate(this.to.getDate()+1)),this.from=new Date(this.from.setDate(this.from.getDate()+1)),this.setCaption()}},{key:"setCaption",value:function(){var e=(new Date).getFullYear(),t=this.from.getFullYear(),n=this.from.getMonth(),r=this.from.getDate(),i=this.from.getDay();this.caption=(t===e?"":"".concat(t,"\u5e74"))+"".concat(n+1,"\u6708").concat(r,"\u65e5 \u661f\u671f").concat("\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d"[i])}}]),n}(Ii),Fi=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){return Object(U.a)(this,n),t.apply(this,arguments)}return Object(G.a)(n,[{key:"init",value:function(){this.type=gi.week;var e=this.to.getDay(),t=this.to.getDate()-e+(0===e?-6:1);this.from=new Date(this.to.setDate(t)),this.to.setDate(this.to.getDate()+7),this.setCaption()}},{key:"prev",value:function(){this.from=new Date(this.from.setDate(this.from.getDate()-7)),this.to=new Date(this.to.setDate(this.to.getDate()-7)),this.setCaption()}},{key:"next",value:function(){this.from=new Date(this.from.setDate(this.from.getDate()+7)),this.to=new Date(this.to.setDate(this.to.getDate()+7)),this.setCaption()}},{key:"setCaption",value:function(){var e=(new Date).getFullYear(),t=this.from.getFullYear(),n=this.from.getMonth(),r=this.from.getDate(),i=this.to.getMonth(),a=this.to.getDate();this.caption=(t===e?"":"".concat(t,"\u5e74"))+"".concat(n+1,"\u6708").concat(r,"\u65e5 - ")+(i===n?"":"".concat(i,"\u6708"))+"".concat(a,"\u65e5")}}]),n}(Ii),Ci=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){return Object(U.a)(this,n),t.apply(this,arguments)}return Object(G.a)(n,[{key:"init",value:function(){this.type=gi.month;var e=this.to.getFullYear(),t=this.to.getMonth();this.to.getDate()<this.unitBizDate&&--t<0&&(t=11,e--),this.from=new Date(e,t,this.unitBizDate),this.to=new Date(this.from),this.to.setMonth(this.to.getMonth()+1),this.setCaption()}},{key:"prev",value:function(){this.from=new Date(this.from.setMonth(this.from.getMonth()-1)),this.to=new Date(this.to.setMonth(this.to.getMonth()-1)),this.setCaption()}},{key:"next",value:function(){this.from=new Date(this.from.setMonth(this.from.getMonth()+1)),this.to=new Date(this.to.setMonth(this.to.getMonth()+1)),this.setCaption()}},{key:"setCaption",value:function(){var e=(new Date).getFullYear(),t=this.from.getFullYear(),n=this.from.getMonth(),r=this.to.getMonth();this.caption="".concat(e===t?"":t+"\u5e74").concat(n+1,"\u6708"),this.unitBizDate>1&&(this.caption+="".concat(this.unitBizDate,"\u65e5-").concat(r+1,"\u6708").concat(this.unitBizDate-1,"\u65e5"))}}]),n}(Ii),Mi=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){return Object(U.a)(this,n),t.apply(this,arguments)}return Object(G.a)(n,[{key:"init",value:function(){this.type=gi.year;var e=this.to.getFullYear(),t=this.to.getMonth(),n=this.to.getDate();t<this.unitBizMonth?e--:n<this.unitBizDate&&++t>11&&e++,t=this.unitBizMonth,this.from=new Date(e,t,this.unitBizDate),this.to=new Date(this.from),this.to.setFullYear(this.to.getFullYear()+1),this.setCaption()}},{key:"prev",value:function(){this.from=new Date(this.from.setFullYear(this.from.getFullYear()-1)),this.to=new Date(this.to.setFullYear(this.to.getFullYear()-1)),this.setCaption()}},{key:"next",value:function(){this.from=new Date(this.from.setFullYear(this.from.getFullYear()+1)),this.to=new Date(this.to.setFullYear(this.to.getFullYear()+1)),this.setCaption()}},{key:"setCaption",value:function(){var e=this.from.getFullYear(),t=this.to.getFullYear();switch(this.unitBizMonth){case 0:this.caption="".concat(e,"\u5e74");break;case 11:this.caption="".concat(t,"\u5e74");break;default:this.caption="".concat(e,"-").concat(t.toString().substring(2),"\u5e74")}}}]),n}(Ii);var Ri=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){return Object(U.a)(this,n),t.apply(this,arguments)}return Object(G.a)(n,[{key:"header",value:function(){return"\u4e1a\u52a1\u8be6\u60c5"}},{key:"content",value:function(){var e=this.controller.bizOpDetail.item,t=e.id,n=e.bizOp,r=e.memo,i=e.value,a=this.controller.cApp,c=a.itemTitles,s=a.timezone,o=c[this.controller.itemPeriodSum.item],u=o.unit,l=o.fixed,d=Object(be.dateFromMinuteId)(t,s);return Object(ne.jsxs)("div",{className:"p-3",children:[Object(ne.jsxs)("div",{children:["\u4e1a\u52a1\u7f16\u53f7\uff1a",n]}),Object(ne.jsxs)("div",{children:["\u53d1\u751f\u65f6\u95f4\uff1a",Object(ne.jsx)(te.EasyTime,{date:d,timeZone:-5})]}),Object(ne.jsxs)("div",{children:[r," ",Xr(i,u,l)]}),Object(ne.jsxs)("div",{className:"my-3",children:[Object(ne.jsx)(te.FA,{className:"text-danger me-3",name:"smile-o",size:"lg"}),Object(ne.jsx)("span",{className:"text-muted",children:"\u4e1a\u52a1\u8be6\u60c5\u663e\u793a\u6b63\u5728\u5f00\u53d1\u4e2d"})]})]})}}]),n}(te.VPage),qi=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(U.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).renderItem=function(t,n){var r=e.controller.cApp,i=r.itemTitles,a=r.timezone,c=t.id,s=t.value,o=t.bizOp,u=t.memo,l=i[e.controller.itemPeriodSum.item],d=l.unit,h=l.fixed,m=Object(be.dateFromMinuteId)(c,a),f=Object(ne.jsx)("div",{className:"text-muted small w-min-4c me-2",children:Object(ne.jsx)(te.VDate,{date:m,hideSameYear:!0})}),v=Object(ne.jsx)("div",{className:"ms-2",children:Xr(s,d,h)});return Object(ne.jsx)(te.LMR,{className:"px-3 py-2 align-items-center",left:f,right:v,children:Object(ne.jsxs)("small",{children:[o,u?": "+u:""]})})},e.onClickItem=function(t){e.controller.showBizOpDetail(t)},e}return Object(G.a)(n,[{key:"header",value:function(){var e=this.controller.cApp,t=e.itemTitles,n=e.postTitles,r=this.controller.itemPeriodSum,i=r.post,a=r.item;return 0===i?t[a].title:"".concat(n[i].title," - ").concat(t[a].title)}},{key:"content",value:function(){var e=this.controller.history;return Object(ne.jsx)("div",{className:"",children:Object(ne.jsx)(te.List,{items:e,item:{render:this.renderItem,onClick:this.onClickItem}})})}}]),n}(te.VPage),Li=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(U.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).renderItem=function(t,n){var r=e.controller.cApp.itemTitles,i=t.date,a=t.value,c=r[e.controller.itemPeriodSum.item],s=c.unit,o=c.fixed,u=new Date(i),l=Object(ne.jsx)("div",{className:"text-muted small",children:e.renderDate(u)}),d=Object(ne.jsx)("div",{children:Xr(a,s,o)});return Object(ne.jsx)(te.LMR,{className:"px-3 py-2",left:l,right:d})},e.onClickItem=function(){var t=Object(E.a)(K.a.mark((function t(n){return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.clickItem(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(G.a)(n,[{key:"header",value:function(){var e=this.controller.cApp,t=e.itemTitles,n=e.postTitles,r=this.controller.itemPeriodSum,i=r.post,a=r.item;return 0===i?t[a].title:"".concat(n[i].title," - ").concat(t[a].title)}},{key:"content",value:function(){var e=this.controller.periodHistory;return Object(ne.jsx)("div",{className:"",children:Object(ne.jsx)(te.List,{items:e,item:{render:this.renderItem,onClick:this.onClickItem}})})}}]),n}(te.VPage),Vi=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){return Object(U.a)(this,n),t.apply(this,arguments)}return Object(G.a)(n,[{key:"renderDate",value:function(e){var t=e.getDay();return Object(ne.jsxs)(ne.Fragment,{children:[e.getMonth()+1,"\u6708",String(100+e.getDate()).substring(1),"\u65e5 \u661f\u671f","\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d".substring(t,t+1)]})}},{key:"clickItem",value:function(){var e=Object(E.a)(K.a.mark((function e(t){var n,r;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.date,(r=new Date(n)).setDate(r.getDate()+1),e.next=5,this.controller.showPostItemHistory(void 0,n,r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Li),$i=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){return Object(U.a)(this,n),t.apply(this,arguments)}return Object(G.a)(n,[{key:"renderDate",value:function(e){var t=this.controller.cApp.unitBizDate,n=e.getMonth();if(!t)return Object(ne.jsxs)(ne.Fragment,{children:[n+1,"\u6708"]});var r=new Date(e);return r.setMonth(n+1),Object(ne.jsxs)(ne.Fragment,{children:[n+1,"\u6708",t,"\u65e5 - ",r.getMonth()+1,"\u6708",t-1,"\u65e5"]})}},{key:"clickItem",value:function(){var e=Object(E.a)(K.a.mark((function e(t){var n,r;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.date,(r=new Date(n)).setMonth(r.getMonth()+1),e.next=5,this.controller.showDayPostItemHistory(void 0,n,r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Li),Hi=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(U.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).onClickItem=void 0,e.renderItem=function(t,n){var r=e.controller,i=r.cApp,a=r.showOpiHistory,c=i.postTitles,s=t.post,o=t.itemList,u=c[s],l=u.title,d=u.vice;return Object(ne.jsxs)("div",{className:"d-block mx-2 my-3 border border-success rounded-3",children:[Object(ne.jsxs)("div",{className:"px-3 py-2",children:[Object(ne.jsx)("b",{className:"text-primary",children:l}),Object(ne.jsx)("small",{className:"text-muted ms-3",children:d})]}),Object(ne.jsx)("div",{children:Object(ne.jsx)(te.List,{items:o,item:{render:e.renderItemPeriodSum,onClick:a}})})]})},e.renderItemPeriodSum=function(t,n){var r=e.controller.cApp,i=r.itemTitles,a=t.item,c=t.value,s=i[a];if(s){var o=s.title,u=s.vice,l=s.fixed,d=s.unit;return Object(ne.jsxs)("div",{className:"d-block pb-2",children:[Object(ne.jsxs)(te.LMR,{className:"px-3 py-2 w-100",right:Object(ne.jsx)("div",{children:Xr(c,d,l)}),children:[Object(ne.jsx)("small",{children:Object(ne.jsx)(te.FA,{className:"me-2 text-danger small",name:"bookmark-o"})})," ",o]}),Object(ne.jsx)("div",{className:"px-3 small ms-3 me-4",children:Object(ne.jsx)("small",{className:"text-muted",children:u})})]})}var h=t.post,m=r.postTitles[h];if(m){var f=m.title,v=m.vice,b=m.fixed;return Object(ne.jsxs)(te.LMR,{className:"px-3 py-2 w-100",right:Object(ne.jsx)("div",{children:Xr(c,void 0,b)}),children:[f," ",Object(ne.jsx)("small",{className:"text-muted ms-3",children:v})]})}return Object(ne.jsxs)("div",{children:["unknown item ",a," and post ",h]})},e}return Object(G.a)(n,[{key:"render",value:function(){var e=this;return this.react((function(){for(var t=[[gi.day,"\u65e5",void 0],[gi.week,"\u5468",void 0],[gi.month,"\u6708",void 0],[gi.year,"\u5e74",void 0]],n=e.controller,r=n.period,i=n.list,a=r.type,c=0,s=t;c<s.length;c++){var o=s[c],u=Object(ee.a)(o,1)[0];o[2]=" py-2 px-3 "+(u===a?" border-2 border-bottom border-primary fw-bold bg-light ":" border-bottom border-muted cursor-pointer text-muted ")}return Object(ne.jsxs)("div",{className:"",children:[Object(ne.jsx)("div",{className:"row g-0",children:t.map((function(t){var n=Object(ee.a)(t,3),r=n[0],i=n[1],a=n[2];return Object(ne.jsx)("div",{className:"col text-center",onClick:function(){return e.controller.setPeriod(r)},children:Object(ne.jsx)("div",{className:a,children:i})},i)}))}),e.renderDate(),Object(ne.jsx)("div",{className:"",children:Object(ne.jsx)(te.List,{items:i,item:{render:e.renderItem,onClick:e.onClickItem}})}),Object(ne.jsxs)("div",{className:"d-flex py-2 px-3",children:[Object(ne.jsx)("div",{className:"flex-fill"}),Object(ne.jsxs)("div",{className:"small text-muted cursor-pointer",onClick:e.controller.cApp.refresh,children:[Object(ne.jsx)(te.FA,{name:"refresh"}),e.react((function(){return Object(ne.jsx)(te.EasyTime,{date:e.controller.cApp.refreshTime})}))]})]})]})}))}},{key:"renderDate",value:function(){var e=this.controller,t=e.period,n=e.prev,r=e.next,i=t.hasNext,a=Object(ne.jsx)("div",{className:"cursor-pointer p-3",onClick:n,children:Object(ne.jsx)(te.FA,{name:"angle-left"})}),c=Object(ne.jsx)("div",{className:" p-3 "+(i?" cursor-pointer ":" text-light "),onClick:r,children:Object(ne.jsx)(te.FA,{name:"angle-right"})});return Object(ne.jsxs)("div",{className:"d-flex justify-content-center",children:[a,Object(ne.jsx)("div",{className:"text-center px-1 py-3 w-min-10c",children:t.render()}),c]})}}]),n}(te.View),zi=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(U.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).renderItem=function(t,n){var r=e.controller.cApp.itemTitles,i=(t.opi,t.item),a=(t.post,t.object,t.staff),c=(t.value,t.ratioValue),s=r[i],o=s.unit,u=s.fixed;return Object(ne.jsx)("div",{className:"px-3 py-2 d-block",children:Object(ne.jsx)(Q.LMR,{left:Object(ne.jsxs)("div",{children:[Object(ne.jsx)("span",{className:"text-muted small",children:"\u6765\u81ea: "}),e.controller.uqs.JkHr.Employee.tv(a,Bi)]}),right:Object(ne.jsx)("div",{children:Xr(c,o,u)})})})},e.onClickItem=function(e){alert(JSON.stringify(e))},e}return Object(G.a)(n,[{key:"header",value:function(){var e=this.controller,t=e.cApp,n=e.itemPeriodSum,r=t.postTitles,i=t.itemTitles,a=n.post,c=n.item;return 0===a?i[c].title:"".concat(r[a].title," - ").concat(i[c].title)}},{key:"content",value:function(){return Object(ne.jsx)("div",{className:"py-0",children:Object(ne.jsx)(Q.List,{items:this.controller.superviseObjects,item:{render:this.renderItem}})})}}]),n}(Q.VPage);function Bi(e){var t=e.name;return Object(ne.jsx)(ne.Fragment,{children:t})}var Ki=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(U.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).bizOpDetail=void 0,e.period=void 0,e.list=void 0,e.itemPeriodSum=void 0,e.history=void 0,e.periodHistory=void 0,e.superviseObjects=void 0,e.prev=Object(E.a)(K.a.mark((function t(){return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.period.prev(),t.next=3,e.load();case 3:case"end":return t.stop()}}),t)}))),e.next=Object(E.a)(K.a.mark((function t(){return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!1!==e.period.hasNext){t.next=2;break}return t.abrupt("return");case 2:return e.period.next(),t.next=5,e.load();case 5:case"end":return t.stop()}}),t)}))),e.showOpiHistory=function(){var t=Object(E.a)(K.a.mark((function t(n){return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.period.type,t.next=t.t0===gi.day?3:t.t0===gi.month||t.t0===gi.week?5:t.t0===gi.year?7:9;break;case 3:return e.showPostItemHistory(n,void 0,void 0),t.abrupt("break",9);case 5:return e.showDayPostItemHistory(n,void 0,void 0),t.abrupt("break",9);case 7:return e.showMonthPostItemHistory(n,void 0,void 0),t.abrupt("break",9);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(G.a)(n,[{key:"init",value:function(){Object(ie.makeObservable)(this,{period:ie.observable,history:ie.observable.shallow,periodHistory:ie.observable.shallow,list:ie.observable.shallow,internalSetPeriod:ie.action}),this.internalSetPeriod(gi.day)}},{key:"internalStart",value:function(){var e=Object(E.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"internalSetPeriod",value:function(e){var t=this.cApp,n=t.unitTimezone,r=t.unitBizMonth,i=t.unitBizDate;this.period=function(e,t,n,r){var i;switch(e){case gi.day:i=new Ti(t,n,r);break;case gi.week:i=new Fi(t,n,r);break;case gi.month:i=new Ci(t,n,r);break;case gi.year:i=new Mi(t,n,r)}return i}(e,n,r,i)}},{key:"setPeriod",value:function(){var e=Object(E.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.internalSetPeriod(t),e.next=3,this.load();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"GetPeriodSum",value:function(){var e=Object(E.a)(K.a.mark((function e(t,n){var r;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.uqs.JkMe.GetUserObjectItemPeriodSum.query({from:t,to:n});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=Object(E.a)(K.a.mark((function e(){var t,n,r,i,a,c,s,o,u,l,d,h,m,f,v,b=this;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.period,n=t.from,r=t.to,e.next=3,this.GetPeriodSum(n,r);case 3:i=e.sent,a=i.ret,c={},s=[],o=Object(_.a)(a);try{for(o.s();!(u=o.n()).done;)l=u.value,d=Number(l.post),h=Number(l.item),m=Object(Si.a)(Object(Si.a)({},l),{},{post:d,item:h}),void 0===(f=c[d])&&(v={},c[d]=f={post:d,itemColl:v,itemList:[]},s.push(f)),f.itemColl[h]=m,f.itemList.push(m)}catch(j){o.e(j)}finally{o.f()}Object(ie.runInAction)((function(){b.list=s}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadPostItemHistory",value:function(){var e=Object(E.a)(K.a.mark((function e(t,n,r){var i,a,c,s,o,u,l,d,h,m,f=this;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t?this.itemPeriodSum=t:t=this.itemPeriodSum,a=(i=t).id,c=i.post,s=i.item,o=this.period,u=o.from,l=o.to,n&&(u=n),r&&(l=r),c!==$e.sys){e.next=12;break}return e.next=8,this.uqs.JkMe.GetItemHistory.page({item:s,from:u,to:l},void 0,1e4);case 8:h=e.sent,d=h.$page,e.next=16;break;case 12:return e.next=14,this.uqs.JkMe.GetObjectItemHistory.query({objectPostItem:a,from:u,to:l});case 14:m=e.sent,d=m.ret;case 16:Object(ie.runInAction)((function(){f.history=d}));case 17:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"loadPeriodPostItemHistory",value:function(){var e=Object(E.a)(K.a.mark((function e(t,n,r,i){var a,c,s,o,u,l=this;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t?this.itemPeriodSum=t:t=this.itemPeriodSum,a=t.id,c=this.period,s=c.from,o=c.to,n&&(s=n),r&&(o=r),e.next=7,this.uqs.JkMe.GetObjectItemPeriodHistory.query({objectPostItem:a,from:s,to:o,period:i});case 7:u=e.sent,this.runInAction((function(){l.periodHistory=u.ret}));case 9:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"loadSuperviseObjects",value:function(){var e=Object(E.a)(K.a.mark((function e(t,n,r){var i,a,c,s;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t?this.itemPeriodSum=t:t=this.itemPeriodSum,t.id,i=this.period,a=i.from,c=i.to,n&&(a=n),r&&(c=r),e.next=7,this.uqs.JkMe.GetSuperviseObjects.query({from:a,to:c});case 7:s=e.sent,this.superviseObjects=s.ret;case 9:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"showBizOpDetail",value:function(){var e=Object(E.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.bizOpDetail=new Ai(this.uqs,t),this.openVPage(Ri);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"showPostItemHistory",value:function(){var e=Object(E.a)(K.a.mark((function e(t,n,r){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.post,e.next=e.t0===$e.staffSupervisor?3:7;break;case 3:return e.next=5,this.loadSuperviseObjects(t,n,r);case 5:return this.openVPage(zi),e.abrupt("break",11);case 7:return e.next=9,this.loadPostItemHistory(t,n,r);case 9:return this.openVPage(qi),e.abrupt("break",11);case 11:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"showDayPostItemHistory",value:function(){var e=Object(E.a)(K.a.mark((function e(t,n,r){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadPeriodPostItemHistory(t,n,r,0);case 2:this.openVPage(Vi);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"showMonthPostItemHistory",value:function(){var e=Object(E.a)(K.a.mark((function e(t,n,r){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadPeriodPostItemHistory(t,n,r,this.cApp.unitBizDate);case 2:this.openVPage($i);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"renderVPortal",value:function(){return this.renderView(Hi)}}]),n}(X),Ei=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){return Object(U.a)(this,n),t.apply(this,arguments)}return Object(G.a)(n,[{key:"header",value:function(){return"\u8be6\u60c5"}},{key:"content",value:function(){var e;return Object(ne.jsxs)("div",{children:[Object(ne.jsx)("div",{children:this.controller.pageTop}),Object(ne.jsx)("div",{className:"d-flex flex-wrap p-2",children:null===(e=this.controller.cAccount)||void 0===e?void 0:e.renderAccounts()}),Object(ne.jsx)("div",{children:this.controller.renderVPortal()})]})}}]),n}(te.VPage),Ui=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(U.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).cAccount=void 0,e.object=void 0,e.pageTop=void 0,e}return Object(G.a)(n,[{key:"init",value:function(e,t){this.cAccount=this.newC(oe),this.object=e,this.pageTop=t}},{key:"GetPeriodSum",value:function(){var e=Object(E.a)(K.a.mark((function e(t,n){var r;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.uqs.JkMe.GetObjectItemPeriodSum.query({object:this.object,from:t,to:n});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"showObjectPortal",value:function(){var e=Object(E.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.setPeriod(gi.month),this.cAccount.load(this.object)]);case 2:this.openVPage(Ei);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Ki),Gi=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(U.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).renderItem=function(t,n){var r=t.item,i=t.value,a=e.controller.cApp.itemTitles[r],c=a.title,s=a.unit,o=a.fixed;if(!c)return null;var u=Object(ne.jsxs)("div",{children:[Object(ne.jsx)(te.FA,{className:"text-info me-3",name:"lightbulb-o"}),c]}),l=Object(ne.jsx)("div",{children:i<0?Object(ne.jsxs)("span",{className:"text-danger",children:["(",Xr(-i,s,o),")"]}):Xr(i,s,o)});return Object(ne.jsx)(te.LMR,{className:"py-2 px-3 d-flex align-items-center",left:u,right:l})},e.onClickItem=function(t){e.controller.showItemHistory(t)},e}return Object(G.a)(n,[{key:"header",value:function(){return"\u8be6\u60c5"}},{key:"content",value:function(){return Object(ne.jsxs)("div",{children:[Object(ne.jsx)("div",{}),Object(ne.jsx)("div",{children:this.controller.renderVPortal()})]})}}]),n}(Hi),Ji=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(e){var r;return Object(U.a)(this,n),(r=t.call(this,e)).item=void 0,r.internalSetPeriod(gi.month),r}return Object(G.a)(n,[{key:"GetPeriodSum",value:function(){var e=Object(E.a)(K.a.mark((function e(t,n){var r;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.uqs.JkMe.GetItemPeriodSum.query({date:t,days:Math.round(Math.abs((n.getTime()-t.getTime())/864e5))});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=Object(E.a)(K.a.mark((function e(){var t,n,r,i,a=this;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.period,n=t.from,r=t.to,e.next=3,this.GetPeriodSum(n,r);case 3:i=e.sent,Object(ie.runInAction)((function(){a.list=i.ret}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"renderVPortal",value:function(){return this.renderView(Gi)}},{key:"showItemHistory",value:function(){var e=Object(E.a)(K.a.mark((function e(t){var n,r,i,a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.item,r=t.opi,i=t.value,a={id:r,item:n,object:0,post:0,value:i},e.next=4,this.showOpiHistory(a);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Ki),Yi=[10,3,3,3,3,3,5,5,5,5,5,5,5,5,10,10,10,10,15,15,15,30,30,60],Qi=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(e){var r;return Object(U.a)(this,n),(r=t.call(this,e,me)).cHome=void 0,r.cSupervise=void 0,r.cBug=void 0,r.cMe=void 0,r.cUI=void 0,r.cPortal=void 0,r.cUnitPortal=void 0,r.itemTitles={},r.postTitles={},r.accountTitles={},r.ops=void 0,r.refreshTime=Date.now()/1e3,r.timer=void 0,r.refresh=Object(E.a)(K.a.mark((function e(){var t,n;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((n=Date.now()/1e3)-r.refreshTime<30)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Promise.all([r.cHome.load(),null===(t=r.cUnitPortal)||void 0===t?void 0:t.load()]);case 5:Object(ie.runInAction)((function(){r.refreshTime=n}));case 6:case"end":return e.stop()}}),e)}))),r.tick=0,r.gapIndex=0,r.callTick=Object(E.a)(K.a.mark((function e(){var t,n;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r.user){e.next=3;break}return e.abrupt("return");case 3:if(++r.tick,!(r.tick<Yi[r.gapIndex])){e.next=6;break}return e.abrupt("return");case 6:return r.tick=0,r.gapIndex<Yi.length-1&&++r.gapIndex,e.next=10,r.uqs.JkMe.$poked.query(void 0,void 0,!1);case 10:if(t=e.sent,void 0!==(n=t.ret[0])){e.next=14;break}return e.abrupt("return");case 14:if(n.poke){e.next=16;break}return e.abrupt("return");case 16:return r.gapIndex=1,e.next=19,r.refresh();case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(0);case 23:case"end":return e.stop()}}),e,null,[[0,21]])}))),r}return Object(G.a)(n,[{key:"init",value:function(){Object(ie.makeObservable)(this,{refreshTime:ie.observable})}},{key:"internalStart",value:function(){var e=Object(E.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setRes(qe),Er(this.uqs),e.next=4,this.loadBaseData();case 4:this.cHome=this.newC(ue),this.cSupervise=this.newC(wi),this.cBug=this.newC(Re),this.cMe=this.newC(Pe),this.cUI=this.newC(Xe),this.cPortal=this.newC(Ki),this.cHome.load(),this.openVPage(Ye,void 0,this.dispose),this.timer=setInterval(this.callTick,1e3);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onDispose",value:function(){clearInterval(this.timer),this.timer=void 0}},{key:"initStart",value:function(){var e=Object(E.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tonwa.appStart();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=function(){var e=Object(E.a)(K.a.mark((function e(r){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(te.start)(n,t.tonwa,me,r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return!1===r&&(e=i),this.tonwa.nav.renderNavView(i,e)}},{key:"loadBaseData",value:function(){var e=Object(E.a)(K.a.mark((function e(){var t,n,r,i,a,c,s,o,u,l,d,h,m,f,v,b;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.uqs.JkMe,e.next=3,Promise.all([t.GetItemTitles.query({}),t.GetPostTitles.query({}),t.GetAccountTitles.query({}),t.GetRoleOps.query({}),this.loadUnitTime(t.$getUnitTime)]);case 3:n=e.sent,r=Object(ee.a)(n,4),i=r[0],a=r[1],c=r[2],s=r[3],o=Object(_.a)(i.ret);try{for(o.s();!(u=o.n()).done;)l=u.value,this.itemTitles[l.id]=l}catch(j){o.e(j)}finally{o.f()}d=Object(_.a)(a.ret);try{for(d.s();!(h=d.n()).done;)m=h.value,this.postTitles[m.id]=m}catch(j){d.e(j)}finally{d.f()}f=Object(_.a)(c.ret);try{for(f.s();!(v=f.n()).done;)b=v.value,this.accountTitles[b.id]=b}catch(j){f.e(j)}finally{f.f()}this.ops=s.ret;case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"renderVPortal",value:function(){return this.cPortal.renderVPortal()}},{key:"newCObjectPortal",value:function(e,t){return this.newC(Ui,e,t)}},{key:"renderVUnitSum",value:function(){return this.cUnitPortal||(this.cUnitPortal=this.newC(Ji),this.cUnitPortal.load()),this.cUnitPortal.renderVPortal()}}]),n}(W),Xi=n(37),Zi=n.n(Xi);function Wi(){return Wi=Object(E.a)(K.a.mark((function e(){var t,n;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=new te.TonwaReact).setSettings(me),n=function(){var e=Object(E.a)(K.a.mark((function e(n){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(te.start)(Qi,t,me,n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),void 0,void 0,t.appStart(),Zi.a.render(Object(ne.jsx)(ni.a.StrictMode,{children:Object(ne.jsx)(te.NavView,{ref:function(e){return t.set(e)},onLogined:n,notLogined:undefined,userPassword:undefined})}),document.getElementById("root"));case 7:case"end":return e.stop()}}),e)}))),Wi.apply(this,arguments)}n(253);var _i=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,255)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),i(e),a(e),c(e)}))};!function(){Wi.apply(this,arguments)}(),_i()},3:function(e,t,n){"use strict";var r=n(18);n.o(r,"EasyTime")&&n.d(t,"EasyTime",(function(){return r.EasyTime})),n.o(r,"Edit")&&n.d(t,"Edit",(function(){return r.Edit})),n.o(r,"FA")&&n.d(t,"FA",(function(){return r.FA})),n.o(r,"IconText")&&n.d(t,"IconText",(function(){return r.IconText})),n.o(r,"Image")&&n.d(t,"Image",(function(){return r.Image})),n.o(r,"LMR")&&n.d(t,"LMR",(function(){return r.LMR})),n.o(r,"List")&&n.d(t,"List",(function(){return r.List})),n.o(r,"NavView")&&n.d(t,"NavView",(function(){return r.NavView})),n.o(r,"Page")&&n.d(t,"Page",(function(){return r.Page})),n.o(r,"PageItems")&&n.d(t,"PageItems",(function(){return r.PageItems})),n.o(r,"PropGrid")&&n.d(t,"PropGrid",(function(){return r.PropGrid})),n.o(r,"TabCaptionComponent")&&n.d(t,"TabCaptionComponent",(function(){return r.TabCaptionComponent})),n.o(r,"TonwaReact")&&n.d(t,"TonwaReact",(function(){return r.TonwaReact})),n.o(r,"UserView")&&n.d(t,"UserView",(function(){return r.UserView})),n.o(r,"VDate")&&n.d(t,"VDate",(function(){return r.VDate})),n.o(r,"VPage")&&n.d(t,"VPage",(function(){return r.VPage})),n.o(r,"View")&&n.d(t,"View",(function(){return r.View})),n.o(r,"start")&&n.d(t,"start",(function(){return r.start})),n.o(r,"t")&&n.d(t,"t",(function(){return r.t}))}},[[254,1,2]]]);
//# sourceMappingURL=main.571aa55d.chunk.js.map